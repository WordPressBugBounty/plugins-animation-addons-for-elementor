"use strict";(self.webpackChunkwcf_addons=self.webpackChunkwcf_addons||[]).push([[439],{1584:function(e,t,n){n.d(t,{UC:function(){return V},Y9:function(){return z},bL:function(){return B},l9:function(){return H},q7:function(){return M}});var a=n(1609),r=n(2133),s=n(6214),o=n(1071),c=n(9957),l=n(1351),d=n(2579),i=n(8834),u=n(8723),m=n(1427),p=n(4848),f="Accordion",h=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[b,g,x]=(0,s.N)(f),[v,C]=(0,r.A)(f,[x,i.z3]),y=(0,i.z3)(),w=a.forwardRef((e,t)=>{const{type:n,...a}=e,r=a,s=a;return(0,p.jsx)(b.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,p.jsx)(R,{...s,ref:t}):(0,p.jsx)(j,{...r,ref:t})})});w.displayName=f;var[k,N]=v(f),[_,E]=v(f,{collapsible:!1}),j=a.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...c}=e,[d,i]=(0,l.i)({prop:n,defaultProp:r??"",onChange:s,caller:f});return(0,p.jsx)(k,{scope:e.__scopeAccordion,value:a.useMemo(()=>d?[d]:[],[d]),onItemOpen:i,onItemClose:a.useCallback(()=>o&&i(""),[o,i]),children:(0,p.jsx)(_,{scope:e.__scopeAccordion,collapsible:o,children:(0,p.jsx)(S,{...c,ref:t})})})}),R=a.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[c,d]=(0,l.i)({prop:n,defaultProp:r??[],onChange:s,caller:f}),i=a.useCallback(e=>d((t=[])=>[...t,e]),[d]),u=a.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,p.jsx)(k,{scope:e.__scopeAccordion,value:c,onItemOpen:i,onItemClose:u,children:(0,p.jsx)(_,{scope:e.__scopeAccordion,collapsible:!0,children:(0,p.jsx)(S,{...o,ref:t})})})}),[A,I]=v(f),S=a.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:l="vertical",...i}=e,u=a.useRef(null),f=(0,o.s)(u,t),x=g(n),v="ltr"===(0,m.jH)(s),C=(0,c.mK)(e.onKeyDown,e=>{if(!h.includes(e.key))return;const t=e.target,n=x().filter(e=>!e.ref.current?.disabled),a=n.findIndex(e=>e.ref.current===t),r=n.length;if(-1===a)return;e.preventDefault();let s=a;const o=r-1,c=()=>{s=a+1,s>o&&(s=0)},d=()=>{s=a-1,s<0&&(s=o)};switch(e.key){case"Home":s=0;break;case"End":s=o;break;case"ArrowRight":"horizontal"===l&&(v?c():d());break;case"ArrowDown":"vertical"===l&&c();break;case"ArrowLeft":"horizontal"===l&&(v?d():c());break;case"ArrowUp":"vertical"===l&&d()}const i=s%r;n[i].ref.current?.focus()});return(0,p.jsx)(A,{scope:n,disabled:r,direction:s,orientation:l,children:(0,p.jsx)(b.Slot,{scope:n,children:(0,p.jsx)(d.sG.div,{...i,"data-orientation":l,ref:f,onKeyDown:r?void 0:C})})})}),P="AccordionItem",[D,L]=v(P),O=a.forwardRef((e,t)=>{const{__scopeAccordion:n,value:a,...r}=e,s=I(P,n),o=N(P,n),c=y(n),l=(0,u.B)(),d=a&&o.value.includes(a)||!1,m=s.disabled||e.disabled;return(0,p.jsx)(D,{scope:n,open:d,disabled:m,triggerId:l,children:(0,p.jsx)(i.bL,{"data-orientation":s.orientation,"data-state":K(d),...c,...r,ref:t,disabled:m,open:d,onOpenChange:e=>{e?o.onItemOpen(a):o.onItemClose(a)}})})});O.displayName=P;var q="AccordionHeader",F=a.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=I(f,n),s=L(q,n);return(0,p.jsx)(d.sG.h3,{"data-orientation":r.orientation,"data-state":K(s.open),"data-disabled":s.disabled?"":void 0,...a,ref:t})});F.displayName=q;var T="AccordionTrigger",U=a.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=I(f,n),s=L(T,n),o=E(T,n),c=y(n);return(0,p.jsx)(b.ItemSlot,{scope:n,children:(0,p.jsx)(i.l9,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:s.triggerId,...c,...a,ref:t})})});U.displayName=T;var $="AccordionContent",G=a.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=I(f,n),s=L($,n),o=y(n);return(0,p.jsx)(i.UC,{role:"region","aria-labelledby":s.triggerId,"data-orientation":r.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function K(e){return e?"open":"closed"}G.displayName=$;var B=w,M=O,z=F,H=U,V=G},2731:function(e,t,n){n.d(t,{C1:function(){return k},bL:function(){return y}});var a=n(1609),r=n(1071),s=n(2133),o=n(9957),c=n(1351),l=n(5357),d=n(1769),i=n(7971),u=n(2579),m=n(4848),p="Checkbox",[f,h]=(0,s.A)(p),[b,g]=f(p);function x(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:l,name:d,onCheckedChange:i,required:u,value:f="on",internal_do_not_use_render:h}=e,[g,x]=(0,c.i)({prop:n,defaultProp:s??!1,onChange:i,caller:p}),[v,C]=a.useState(null),[y,w]=a.useState(null),k=a.useRef(!1),N=!v||!!l||!!v.closest("form"),_={checked:g,disabled:o,setChecked:x,control:v,setControl:C,name:d,form:l,value:f,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!j(s)&&s,isFormControl:N,bubbleInput:y,setBubbleInput:w};return(0,m.jsx)(b,{scope:t,..._,children:E(h)?h(_):r})}var v="CheckboxTrigger",C=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},c)=>{const{control:l,value:d,disabled:i,checked:p,required:f,setControl:h,setChecked:b,hasConsumerStoppedPropagationRef:x,isFormControl:C,bubbleInput:y}=g(v,e),w=(0,r.s)(c,h),k=a.useRef(p);return a.useEffect(()=>{const e=l?.form;if(e){const t=()=>b(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,b]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":j(p)?"mixed":p,"aria-required":f,"data-state":R(p),"data-disabled":i?"":void 0,disabled:i,value:d,...s,ref:w,onKeyDown:(0,o.mK)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.mK)(n,e=>{b(e=>!!j(e)||!e),y&&C&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});C.displayName=v;var y=a.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:s,required:o,disabled:c,value:l,onCheckedChange:d,form:i,...u}=e;return(0,m.jsx)(x,{__scopeCheckbox:n,checked:r,defaultChecked:s,disabled:c,required:o,onCheckedChange:d,name:a,form:i,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C,{...u,ref:t,__scopeCheckbox:n}),e&&(0,m.jsx)(_,{__scopeCheckbox:n})]})})});y.displayName=p;var w="CheckboxIndicator",k=a.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...r}=e,s=g(w,n);return(0,m.jsx)(i.C,{present:a||j(s.checked)||!0===s.checked,children:(0,m.jsx)(u.sG.span,{"data-state":R(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=w;var N="CheckboxBubbleInput",_=a.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:i,required:p,disabled:f,name:h,value:b,form:x,bubbleInput:v,setBubbleInput:C}=g(N,e),y=(0,r.s)(n,C),w=(0,l.Z)(c),k=(0,d.X)(s);a.useEffect(()=>{const e=v;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,a=!o.current;if(w!==c&&n){const t=new Event("click",{bubbles:a});e.indeterminate=j(c),n.call(e,!j(c)&&c),e.dispatchEvent(t)}},[v,w,c,o]);const _=a.useRef(!j(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??_.current,required:p,disabled:f,name:h,value:b,form:x,...t,tabIndex:-1,ref:y,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(e){return"function"==typeof e}function j(e){return"indeterminate"===e}function R(e){return j(e)?"indeterminate":e?"checked":"unchecked"}_.displayName=N},4840:function(e,t,n){n.d(t,{S:function(){return c}});var a=n(1609),r=n(2731),s=n(7049),o=n(6792);const c=a.forwardRef(({className:e,svgClassName:t,...n},c)=>(0,a.createElement)(r.bL,{ref:c,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded border-[1.25px] border-border focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 bg-background data-[state=checked]:bg-brand data-[state=checked]:border-brand data-[state=checked]:text-white",e),...n},(0,a.createElement)(r.C1,{className:(0,o.cn)("flex items-center justify-center text-current")},(0,a.createElement)(s.Srz,{className:(0,o.cn)("h-4 w-4",t)}))));c.displayName=r.bL.displayName},5439:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(1609),r=n(1584),s=n(7049),o=n(6792);const c=r.bL,l=a.forwardRef(({className:e,...t},n)=>(0,a.createElement)(r.q7,{ref:n,className:(0,o.cn)("border-b",e),...t}));l.displayName="AccordionItem";const d=a.forwardRef(({className:e,children:t,...n},c)=>(0,a.createElement)(r.Y9,{className:"flex"},(0,a.createElement)(r.l9,{ref:c,className:(0,o.cn)("flex flex-1 items-center bg-transparent justify-between py-4 text-sm font-medium transition-all [&[data-state=open]>svg]:rotate-180",e),...n},t,(0,a.createElement)(s.D3D,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"}))));d.displayName=r.l9.displayName;const i=a.forwardRef(({className:e,children:t,...n},s)=>(0,a.createElement)(r.UC,{ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n},(0,a.createElement)("div",{className:(0,o.cn)("pb-4 pt-0",e)},t)));i.displayName=r.UC.displayName;var u=n(1706),m=n(9115),p=n(4840),f=n(9179),h=()=>{const{setTabKey:e}=(0,f.OL)(),[t,n]=(0,a.useState)({}),[r,s]=(0,a.useState)([]),[o,h]=(0,a.useState)(""),[b,g]=(0,a.useState)(!0),[x,v]=(0,a.useState)(!0),C=new URL(window.location.href),y=C.searchParams.get("templateid"),w=t=>{const n=C.searchParams.get("page"),a=C.searchParams.get("template");C.search="",C.hash="",C.search=`page=${n}`,C.searchParams.set("template",a),C.searchParams.set("templateid",y),C.searchParams.set("tab",t),r&&r?.length&&C.searchParams.set("plugins",r.toString()),o&&C.searchParams.set("theme",o),C.searchParams.set("attachment",b),window.history.replaceState({},"",C),e(t)};(0,a.useEffect)(()=>{y&&k(y)},[]);const k=async e=>{try{const t=new URL(`${WCF_ADDONS_ADMIN?.st_template_domain}wp-json/wp/v2/starter-templates`);e&&t.searchParams.append("tplid",e),await fetch(t.toString()).then(e=>e.json()).then(t=>{if(t?.templates){const n=Object.entries(t.templates).find(([t,n])=>n.id==e)?.[1];if(!n?.dependencies?.plugins?.length||!n?.dependencies?.plugins?.length)return void w("demo-importing");N(n)}})}catch(e){console.log(e)}},N=async e=>{try{await fetch(WCF_ADDONS_ADMIN.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({action:"aaeaddon_template_dependency_status",nonce:WCF_ADDONS_ADMIN.nonce,dependencies:JSON.stringify(e?.dependencies)})}).then(e=>e.json()).then(t=>{if(t.success){const a=t?.data?.dependencies;s(e=>{const t=a?.plugins.filter(e=>e.required).map(e=>e.slug);return Array.from(new Set([...e,...t]))}),e.dependencies=a,n(e)}})}catch(e){console.log(e)}finally{v(!1)}};return(0,a.createElement)("div",{className:"bg-background w-[692px] rounded-2xl p-1.5 shadow-auth-card"},x?(0,a.createElement)("div",{className:"flex justify-center items-center h-[10vh]"},(0,a.createElement)("p",{className:"text-lg font-semibold"},"Loading...")):(0,a.createElement)("div",{className:"border border-border-secondary rounded-xl"},(0,a.createElement)("div",{className:"border-b border-border-secondary p-8 pb-6"},(0,a.createElement)("div",{className:"mb-7"},(0,a.createElement)("h3",{className:"text-2xl font-medium"},"Required Features"),(0,a.createElement)("p",{className:"mt-1.5 text-text-secondary"},"Install every plugins, themes and extensions listed below.")),(0,a.createElement)("div",null,(0,a.createElement)(c,{type:"multiple",defaultValue:["plugins","themes"],className:"w-full space-y-3"},t?.dependencies?.plugins?.length?(0,a.createElement)(l,{value:"plugins",className:"border px-4 rounded-xl"},(0,a.createElement)(d,null,(0,a.createElement)("div",{className:"flex justify-between items-center gap-4 w-full mr-2.5"},(0,a.createElement)("h3",{className:"text-lg text-medium"},"Required Plugins"),(0,a.createElement)("p",{className:"text-text-secondary"},t?.dependencies?.plugins?.length," ","Plugins"))),(0,a.createElement)(i,{className:"mt-2 space-y-4"},t?.dependencies?.plugins?.map((e,t)=>(0,a.createElement)("div",{className:"flex items-center space-x-2.5",key:e.slug+t},(0,a.createElement)(p.S,{id:`plugin-${e.slug}`,checked:r.includes(e?.slug),disabled:e?.required,onCheckedChange:t=>s(n=>t?[...n,e?.slug]:n.filter(t=>t!==e?.slug))}),(0,a.createElement)("label",{htmlFor:`plugin-${e.slug}`,className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},e.name),(0,a.createElement)(u.E,{variant:"Not Installed"===e?.status?"inProgress":"installed"},e?.status))))):"",t?.dependencies?.themes?.length?(0,a.createElement)(l,{value:"themes",className:"border px-4 rounded-xl"},(0,a.createElement)(d,null,(0,a.createElement)("div",{className:"flex justify-between items-center gap-4 w-full mr-2.5"},(0,a.createElement)("h3",{className:"text-lg text-medium"},"Recommended Themes"),(0,a.createElement)("p",{className:"text-text-secondary"},t?.dependencies?.themes?.length," Themes"))),(0,a.createElement)(i,{className:"mt-2 space-y-4"},t?.dependencies?.themes?.map((e,t)=>(0,a.createElement)("div",{className:"flex items-center space-x-2.5",key:e.slug+t},(0,a.createElement)(p.S,{id:`theme-${e.slug}`,checked:o===e?.slug,disabled:o&&o!==e?.slug,onCheckedChange:t=>h(t?e?.slug:"")}),(0,a.createElement)("label",{htmlFor:`theme-${e.slug}`,className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},e.title),(0,a.createElement)(u.E,{variant:"Not Installed"===e?.status?"inProgress":"installed"},e?.status))))):"")),(0,a.createElement)("div",{className:"flex items-center space-x-2.5 mt-6"},(0,a.createElement)(p.S,{id:"demo-import-attachment",checked:b,onCheckedChange:g}),(0,a.createElement)("label",{htmlFor:"demo-import-attachment",className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Import demo with attachments (recommended)"))),(0,a.createElement)("div",{className:"px-8 pt-4 pb-6 flex justify-end items-center gap-3"},(0,a.createElement)(m.$,{variant:"secondary",onClick:()=>w("stater-template")},"Go Back"),(0,a.createElement)(m.$,{onClick:()=>w("demo-importing")},"Continue to next"))))}},8834:function(e,t,n){n.d(t,{UC:function(){return j},bL:function(){return _},l9:function(){return E},z3:function(){return h}});var a=n(1609),r=n(9957),s=n(2133),o=n(1351),c=n(8200),l=n(1071),d=n(2579),i=n(7971),u=n(8723),m=n(4848),p="Collapsible",[f,h]=(0,s.A)(p),[b,g]=f(p),x=a.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:c,onOpenChange:l,...i}=e,[f,h]=(0,o.i)({prop:r,defaultProp:s??!1,onChange:l,caller:p});return(0,m.jsx)(b,{scope:n,disabled:c,contentId:(0,u.B)(),open:f,onOpenToggle:a.useCallback(()=>h(e=>!e),[h]),children:(0,m.jsx)(d.sG.div,{"data-state":N(f),"data-disabled":c?"":void 0,...i,ref:t})})});x.displayName=p;var v="CollapsibleTrigger",C=a.forwardRef((e,t)=>{const{__scopeCollapsible:n,...a}=e,s=g(v,n);return(0,m.jsx)(d.sG.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":N(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:(0,r.mK)(e.onClick,s.onOpenToggle)})});C.displayName=v;var y="CollapsibleContent",w=a.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=g(y,e.__scopeCollapsible);return(0,m.jsx)(i.C,{present:n||r.open,children:({present:e})=>(0,m.jsx)(k,{...a,ref:t,present:e})})});w.displayName=y;var k=a.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=g(y,n),[u,p]=a.useState(r),f=a.useRef(null),h=(0,l.s)(t,f),b=a.useRef(0),x=b.current,v=a.useRef(0),C=v.current,w=i.open||u,k=a.useRef(w),_=a.useRef(void 0);return a.useEffect(()=>{const e=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,c.N)(()=>{const e=f.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();b.current=t.height,v.current=t.width,k.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationName=_.current.animationName),p(r)}},[i.open,r]),(0,m.jsx)(d.sG.div,{"data-state":N(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!w,...o,ref:h,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:w&&s})});function N(e){return e?"open":"closed"}var _=x,E=C,j=w}}]);