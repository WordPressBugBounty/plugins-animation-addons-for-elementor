"use strict";(self.webpackChunkwcf_addons=self.webpackChunkwcf_addons||[]).push([[818],{364:function(e,t,a){a.d(t,{$m:function(){return o},As:function(){return l},nD:function(){return d},ub:function(){return i}});var n=a(1609),r=a(1584),s=a(7049),c=a(3188);const d=r.bL,l=n.forwardRef(({className:e,...t},a)=>(0,n.createElement)(r.q7,{ref:a,className:(0,c.cn)("border-b",e),...t}));l.displayName="AccordionItem";const o=n.forwardRef(({className:e,children:t,...a},d)=>(0,n.createElement)(r.Y9,{className:"flex"},(0,n.createElement)(r.l9,{ref:d,className:(0,c.cn)("flex flex-1 items-center bg-transparent justify-between py-4 text-sm font-medium transition-all [&[data-state=open]>svg]:rotate-180",e),...a},t,(0,n.createElement)(s.D3D,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"}))));o.displayName=r.l9.displayName;const i=n.forwardRef(({className:e,children:t,...a},s)=>(0,n.createElement)(r.UC,{ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a},(0,n.createElement)("div",{className:(0,c.cn)("pb-4 pt-0",e)},t)));i.displayName=r.UC.displayName},7818:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var n=a(1609),r=a(364),s=a(9715),c=a(5908),d=a(1071),l=a(2133),o=a(9957),i=a(1351),m=a(5357),u=a(1769),p=a(7971),h=a(2579),f=a(4848),b="Checkbox",[g,x]=(0,l.A)(b),[y,k]=g(b);function E(e){const{__scopeCheckbox:t,checked:a,children:r,defaultChecked:s,disabled:c,form:d,name:l,onCheckedChange:o,required:m,value:u="on",internal_do_not_use_render:p}=e,[h,g]=(0,i.i)({prop:a,defaultProp:s??!1,onChange:o,caller:b}),[x,k]=n.useState(null),[E,v]=n.useState(null),N=n.useRef(!1),C=!x||!!d||!!x.closest("form"),w={checked:h,disabled:c,setChecked:g,control:x,setControl:k,name:l,form:d,value:u,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!S(s)&&s,isFormControl:C,bubbleInput:E,setBubbleInput:v};return(0,f.jsx)(y,{scope:t,...w,children:j(p)?p(w):r})}var v="CheckboxTrigger",N=n.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:a,...r},s)=>{const{control:c,value:l,disabled:i,checked:m,required:u,setControl:p,setChecked:b,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:y}=k(v,e),E=(0,d.s)(s,p),N=n.useRef(m);return n.useEffect(()=>{const e=c?.form;if(e){const t=()=>b(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,b]),(0,f.jsx)(h.sG.button,{type:"button",role:"checkbox","aria-checked":S(m)?"mixed":m,"aria-required":u,"data-state":D(m),"data-disabled":i?"":void 0,disabled:i,value:l,...r,ref:E,onKeyDown:(0,o.mK)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.mK)(a,e=>{b(e=>!!S(e)||!e),y&&x&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});N.displayName=v;var C=n.forwardRef((e,t)=>{const{__scopeCheckbox:a,name:n,checked:r,defaultChecked:s,required:c,disabled:d,value:l,onCheckedChange:o,form:i,...m}=e;return(0,f.jsx)(E,{__scopeCheckbox:a,checked:r,defaultChecked:s,disabled:d,required:c,onCheckedChange:o,name:n,form:i,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(N,{...m,ref:t,__scopeCheckbox:a}),e&&(0,f.jsx)(P,{__scopeCheckbox:a})]})})});C.displayName=b;var w="CheckboxIndicator",_=n.forwardRef((e,t)=>{const{__scopeCheckbox:a,forceMount:n,...r}=e,s=k(w,a);return(0,f.jsx)(p.C,{present:n||S(s.checked)||!0===s.checked,children:(0,f.jsx)(h.sG.span,{"data-state":D(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});_.displayName=w;var F="CheckboxBubbleInput",P=n.forwardRef(({__scopeCheckbox:e,...t},a)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:c,defaultChecked:l,required:o,disabled:i,name:p,value:b,form:g,bubbleInput:x,setBubbleInput:y}=k(F,e),E=(0,d.s)(a,y),v=(0,m.Z)(c),N=(0,u.X)(r);n.useEffect(()=>{const e=x;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set,n=!s.current;if(v!==c&&a){const t=new Event("click",{bubbles:n});e.indeterminate=S(c),a.call(e,!S(c)&&c),e.dispatchEvent(t)}},[x,v,c,s]);const C=n.useRef(!S(c)&&c);return(0,f.jsx)(h.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:o,disabled:i,name:p,value:b,form:g,...t,tabIndex:-1,ref:E,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function j(e){return"function"==typeof e}function S(e){return"indeterminate"===e}function D(e){return S(e)?"indeterminate":e?"checked":"unchecked"}P.displayName=F;var R=a(7049),A=a(3188);const I=n.forwardRef(({className:e,...t},a)=>(0,n.createElement)(C,{ref:a,className:(0,A.cn)("peer h-4 w-4 shrink-0 rounded border-[1.25px] border-border focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 bg-background data-[state=checked]:bg-brand data-[state=checked]:border-brand data-[state=checked]:text-white",e),...t},(0,n.createElement)(_,{className:(0,A.cn)("flex items-center justify-center text-current")},(0,n.createElement)(R.Srz,{className:"h-4 w-4"}))));I.displayName=C.displayName;var q=a(8316),$=()=>{const{setTabKey:e}=(0,q.O)(),[t,a]=(0,n.useState)({}),[d,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(""),[m,u]=(0,n.useState)(!0),[p,h]=(0,n.useState)(!0),f=new URL(window.location.href),b=f.searchParams.get("templateid"),g=t=>{const a=f.searchParams.get("page"),n=f.searchParams.get("template");f.search="",f.hash="",f.search=`page=${a}`,f.searchParams.set("template",n),f.searchParams.set("templateid",b),f.searchParams.set("tab",t),d&&d?.length&&f.searchParams.set("plugins",d.toString()),o&&f.searchParams.set("theme",o),f.searchParams.set("attachment",m),window.history.replaceState({},"",f),e(t)};(0,n.useEffect)(()=>{b&&x(b)},[]);const x=async e=>{try{const t=new URL(`${WCF_ADDONS_ADMIN?.st_template_domain}wp-json/wp/v2/starter-page`);e&&t.searchParams.append("tplid",e),await fetch(t.toString()).then(e=>e.json()).then(t=>{if(t?.templates){const a=Object.entries(t.templates).find(([t,a])=>a.id==e)?.[1];if(!a?.dependencies?.plugins?.length||!a?.dependencies?.plugins?.length)return void g("demo-importing");y(a)}})}catch(e){console.log(e)}},y=async e=>{try{await fetch(WCF_ADDONS_ADMIN.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({action:"aaeaddon_template_dependency_status",nonce:WCF_ADDONS_ADMIN.nonce,dependencies:JSON.stringify(e?.dependencies)})}).then(e=>e.json()).then(t=>{if(t.success){const n=t?.data?.dependencies;l(e=>{const t=n?.plugins.filter(e=>e.required).map(e=>e.slug);return Array.from(new Set([...e,...t]))}),e.dependencies=n,a(e)}})}catch(e){console.log(e)}finally{h(!1)}};return(0,n.createElement)("div",{className:"bg-background w-[692px] rounded-2xl p-1.5 shadow-auth-card"},p?(0,n.createElement)("div",{className:"flex justify-center items-center h-[10vh]"},(0,n.createElement)("p",{className:"text-lg font-semibold"},"Loading...")):(0,n.createElement)("div",{className:"border border-border-secondary rounded-xl"},(0,n.createElement)("div",{className:"border-b border-border-secondary p-8 pb-6"},(0,n.createElement)("div",{className:"mb-7"},(0,n.createElement)("h3",{className:"text-2xl font-medium"},"Required Features"),(0,n.createElement)("p",{className:"mt-1.5 text-text-secondary"},"Install every plugins, themes and extensions listed below.")),(0,n.createElement)("div",null,(0,n.createElement)(r.nD,{type:"multiple",defaultValue:["plugins","themes"],className:"w-full space-y-3"},t?.dependencies?.plugins?.length?(0,n.createElement)(r.As,{value:"plugins",className:"border px-4 rounded-xl"},(0,n.createElement)(r.$m,null,(0,n.createElement)("div",{className:"flex justify-between items-center gap-4 w-full mr-2.5"},(0,n.createElement)("h3",{className:"text-lg text-medium"},"Required Plugins"),(0,n.createElement)("p",{className:"text-text-secondary"},t?.dependencies?.plugins?.length," ","Plugins"))),(0,n.createElement)(r.ub,{className:"mt-2 space-y-4"},t?.dependencies?.plugins?.map((e,t)=>(0,n.createElement)("div",{className:"flex items-center space-x-2.5",key:e.slug+t},(0,n.createElement)(I,{id:`plugin-${e.slug}`,checked:d.includes(e?.slug),disabled:e?.required,onCheckedChange:t=>l(a=>t?[...a,e?.slug]:a.filter(t=>t!==e?.slug))}),(0,n.createElement)("label",{htmlFor:`plugin-${e.slug}`,className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},e.name),(0,n.createElement)(s.E,{variant:"Not Installed"===e?.status?"inProgress":"installed"},e?.status))))):"",t?.dependencies?.themes?.length?(0,n.createElement)(r.As,{value:"themes",className:"border px-4 rounded-xl"},(0,n.createElement)(r.$m,null,(0,n.createElement)("div",{className:"flex justify-between items-center gap-4 w-full mr-2.5"},(0,n.createElement)("h3",{className:"text-lg text-medium"},"Recommended Themes"),(0,n.createElement)("p",{className:"text-text-secondary"},t?.dependencies?.themes?.length," Themes"))),(0,n.createElement)(r.ub,{className:"mt-2 space-y-4"},t?.dependencies?.themes?.map((e,t)=>(0,n.createElement)("div",{className:"flex items-center space-x-2.5",key:e.slug+t},(0,n.createElement)(I,{id:`theme-${e.slug}`,checked:o===e?.slug,disabled:o&&o!==e?.slug,onCheckedChange:t=>i(t?e?.slug:"")}),(0,n.createElement)("label",{htmlFor:`theme-${e.slug}`,className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},e.title),(0,n.createElement)(s.E,{variant:"Not Installed"===e?.status?"inProgress":"installed"},e?.status))))):"")),(0,n.createElement)("div",{className:"flex items-center space-x-2.5 mt-6"},(0,n.createElement)(I,{id:"demo-import-attachment",checked:m,onCheckedChange:u}),(0,n.createElement)("label",{htmlFor:"demo-import-attachment",className:"text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Import demo with attachments (recommended)"))),(0,n.createElement)("div",{className:"px-8 pt-4 pb-6 flex justify-end items-center gap-3"},(0,n.createElement)(c.$,{variant:"secondary",onClick:()=>g("stater-template")},"Go Back"),(0,n.createElement)(c.$,{onClick:()=>g("demo-importing")},"Continue to next"))))}},9715:function(e,t,a){a.d(t,{E:function(){return d}});var n=a(1609),r=a(2732),s=a(3188);const c=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-background text-text-primary rounded-full border",filter:"bg-background text-text-primary rounded-lg border px-3 py-1.5 text-sm hover:bg-[#FFF3F0] hover:border-[#FFE5DF] hover:text-[#ED745A] hover:font-medium",pro:"border-0 px-[7px] py-[3px] h-[18px] text-[11px] leading-[0.91] mt font-medium bg-[linear-gradient(109deg,#FFC47D_7.79%,#FFA132_92.21%)] text-white rounded-full",tPro:"border-0 pe-2.5 h-[26px] text-sm font-medium bg-[linear-gradient(45deg,#FF7A00_0%,#FFD439_100%)] text-white rounded-full",version:"bg-white text-text h-[27px] rounded-full",solid:"bg-[#E7350F] border-2 border-solid border-background rounded-full p-0 w-2.5 h-2.5",installed:"bg-[#E0FAEC] border-0 rounded-md px-2 py-1 h-6 text-[#1A7544]",inProgress:"bg-[#EBF1FF] border-0 rounded-md px-2 py-1 h-6 text-[#335CFF]",secondary:"bg-background-secondary text-text-tertiary h-7 px-3"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...a}){return(0,n.createElement)("div",{className:(0,s.cn)(c({variant:t}),e),...a})}}}]);