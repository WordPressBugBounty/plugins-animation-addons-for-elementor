{"version":3,"file":"theme-builder.js","names":["$","WCFThemeBuilder","instance","templateId","init","renderPopup","reinitSelect2","document","on","specificsDisplay","openPopup","closePopup","savePost","redirectEditPage","displayLocation","e","selectedItems","val","uniqueItems","_toConsumableArray","Set","trigger","event","preventDefault","type","removeClass","addClass","select2","ajax","url","ajaxurl","dataType","method","delay","data","params","q","term","page","action","nonce","WCF_Theme_Builder","processResults","uniqueData","seen","forEach","item","has","id","add","push","results","cache","minimumInputLength","placeholder","allowClear","popupTmp","wp","template","content","templatetype","hflocation","archivelocation","singlelocation","postcategory","editor","heading","labels","append","rowId","closest","attr","tmpId","elementorEditlink","replace","beforeSend","success","response","querySelector","tmpType","selected","tmpTitle","removeAttr","complete","responseJSON","tmpLocation","category_option","Object","keys","tmpSpLocation","find","length","temDisplay","each","i","text","newOption","Option","tmpDelay","error","errorThrown","console","log","getParam","key","arguments","undefined","window","location","href","URL","searchParams","get","$_select2html","html","_JSON$stringify","$this","target","dataset","tmpid","title","JSON","stringify","buttons","save","saving","saved","link","adminURL","setTimeout","jQuery"],"sources":["theme-builder.js"],"sourcesContent":[";(function($){\r\n    \"use strict\";\r\n\r\n    const WCFThemeBuilder = {\r\n\r\n        instance: [],\r\n        templateId: 0,\r\n\r\n        init: function() {\r\n            this.renderPopup();        \r\n            this.reinitSelect2();\r\n            //open popup onclick\r\n            $(document).on( 'click', '#wcf-addons-archive-display-type', this.specificsDisplay );          \r\n            $( 'body.post-type-wcf-addons-template #wpcontent' ).on( 'click', '.page-title-action, .row-title, .row-actions .edit > a', this.openPopup );\r\n            $(document )\r\n                .on( 'click', '.wcf-addons-body-overlay,.wcf-addons-template-edit-cross', this.closePopup )\r\n                .on( 'click', \".wcf-addons-tmp-save\", this.savePost )\r\n                .on( 'click', '.wcf-addons-tmp-elementor', this.redirectEditPage )\r\n                .on( 'wcf_template_edit_popup_open', this.displayLocation)\r\n                .on( 'change', '#wcf-addons-template-type, #wcf-addons-hf-display-type', this.displayLocation);\r\n                \r\n                $('#wcf-addons-hf-s-display-type').on('select2:select', function (e) {\r\n                    // Get the selected data\r\n                    var selectedItems = $(this).val(); // Get the selected values             \r\n                    var uniqueItems = [...new Set(selectedItems)]; // Remove duplicates                \r\n                    // Update the Select2 element with unique values\r\n                    $(this).val(uniqueItems).trigger('change');   \r\n                });                \r\n        },\r\n\r\n        specificsDisplay: function (event) {\r\n            event.preventDefault(); \r\n            let type = $(this).val(); \r\n        \r\n            if('specifics_cat' == type){\r\n                $('.single-category-location').removeClass('hidden');    \r\n            }else{\r\n                $('.single-category-location').addClass('hidden');    \r\n            }\r\n        },     \r\n        \r\n        reinitSelect2: function(){\r\n        \r\n            $('#wcf-addons-hf-s-display-type').select2({\r\n                ajax: {\r\n                    url: ajaxurl,\r\n                    dataType: 'json',\r\n                    method: 'post',\r\n                    delay: 250,\r\n                    data: function (params) {\r\n                        return {\r\n                            q: params.term, // search term\r\n                            page: params.page || 1,\r\n                            action: 'wcf_get_posts_by_query',\r\n                            nonce: WCF_Theme_Builder.nonce,\r\n                        };\r\n                    },\r\n                    processResults: function (data) {  \r\n                       \r\n                        let uniqueData = [];\r\n                        let seen = new Set();            \r\n                        data.forEach(item => {\r\n                            if (!seen.has(item.id)) {\r\n                                seen.add(item.id);\r\n                                uniqueData.push(item);\r\n                            }\r\n                        });            \r\n                        return {\r\n                            results: uniqueData\r\n                        };\r\n                    },\r\n                    cache: true\r\n                },\r\n                minimumInputLength: 2,\r\n                placeholder: 'Search and select an option',\r\n                allowClear: true\r\n            });\r\n           \r\n        },\r\n\r\n        // Render Popup HTML\r\n        renderPopup: function( event ){\r\n            var popupTmp = wp.template( 'wcf-addons-ctppopup' ),\r\n                content = null;\r\n\r\n            content = popupTmp( {\r\n                templatetype: WCF_Theme_Builder.templatetype,\r\n                hflocation: WCF_Theme_Builder.hflocation,\r\n                archivelocation: WCF_Theme_Builder.archivelocation,\r\n                singlelocation: WCF_Theme_Builder.singlelocation,\r\n                postcategory: WCF_Theme_Builder.postcategory,\r\n                editor:       WCF_Theme_Builder.editor,\r\n                heading:      WCF_Theme_Builder.labels,\r\n            } );\r\n\r\n            $( 'body' ).append( content );\r\n\r\n        },\r\n\r\n        // Edit PopUp\r\n        openPopup: function( event ) {\r\n            event.preventDefault();\r\n                \r\n            let rowId = $(this).closest('tr').attr('id'),\r\n                tmpId = null,\r\n                elementorEditlink = null;\r\n         \r\n\r\n            if ( rowId ) {\r\n                tmpId = rowId.replace( 'post-', '' );\r\n                elementorEditlink = 'post.php?post='+tmpId+'&action=elementor';\r\n            }\r\n\r\n            $('.wcf-addons-tmp-save').attr( 'data-tmpid', tmpId );\r\n            $('.wcf-addons-tmp-elementor').attr( { 'data-link': elementorEditlink, 'data-tmpid': tmpId } );\r\n                 \r\n            if( tmpId ){\r\n                //fetch existing template data\r\n                $.ajax({\r\n                    url: WCF_Theme_Builder.ajaxurl,\r\n                    data: {\r\n                        'action': 'wcf_get_template',\r\n                        'nonce' : WCF_Theme_Builder.nonce,\r\n                        'tmpId' : tmpId,\r\n                    },\r\n                    type: 'POST',\r\n\r\n                    beforeSend: function(){\r\n\r\n                    },\r\n\r\n                    success:function( response ) {\r\n                        //type\r\n                        document.querySelector(\"#wcf-addons-template-type option[value='\"+response.data.tmpType+\"']\").selected = \"true\";\r\n                        $('#wcf-addons-template-title').attr( 'value', response.data.tmpTitle );\r\n                        $('.wcf-addons-tmp-elementor').removeClass( 'disabled').removeAttr('disabled','disabled');\r\n                    },\r\n\r\n                    complete:function( response ){\r\n                        $('#wcf-addons-hf-s-display-type').val(null).trigger('change');  \r\n                        // Fire custom event.\r\n                        $(document).trigger('wcf_template_edit_popup_open');\r\n                    \r\n                        if(response.responseJSON.data.tmpLocation === 'specifics_cat'){\r\n                            $('.single-category-location').removeClass('hidden');\r\n                            let category_option = Object.keys( response.responseJSON.data.tmpSpLocation );\r\n                            if($('#wcf-addons-single-category-display-type').find(\"option[value='\"+category_option[0]+\"']\").length){\r\n                                $('#wcf-addons-single-category-display-type').find(\"option[value='\"+category_option[0]+\"']\")[0].selected = \"true\";\r\n                                $('#wcf-addons-single-category-display-type').trigger('change');\r\n                            }\r\n                           \r\n                        }else{\r\n                            $('.single-category-location').addClass('hidden');\r\n                        }  \r\n                        //display\r\n                        let temDisplay = $('.hf-location:visible select, .archive-location:visible select, .single-location:visible select');\r\n                        temDisplay.find(\"option[value='\"+response.responseJSON.data.tmpLocation+\"']\")[0].selected = \"true\";\r\n\r\n                        //display specific locations\r\n                        if (response.responseJSON.data.tmpSpLocation) {\r\n                            \r\n                            $.each(response.responseJSON.data.tmpSpLocation, function (i, item) {\r\n                                // Create a DOM Option and pre-select by default\r\n                                let data = {id: i, text: item};\r\n                                let newOption = new Option(data.text, data.id, true, true);\r\n                                // Append it to the select\r\n                                $('#wcf-addons-hf-s-display-type').append(newOption).trigger('change');                               \r\n                            });\r\n\r\n                            //aae-popup-builder-location\r\n                            if (response.responseJSON.data.tmpType && response.responseJSON.data.tmpType === 'popup') {\r\n                                $('#aae-popup-builder-delay').val(response.responseJSON.data.tmpDelay);\r\n                                $('.aae-popup-builder-location').removeClass('hidden');\r\n                            } else {\r\n                                $('.aae-popup-builder-location').addClass('hidden');\r\n                            } \r\n\r\n                        }\r\n\r\n                        $('.wcf-addons-template-edit-popup-area').addClass('open-popup');\r\n                      \r\n                    },\r\n\r\n                    error: function( errorThrown ){\r\n                        console.log( errorThrown );\r\n                    }\r\n\r\n                });\r\n\r\n            } else {\r\n                // Fire custom event.\r\n                $(document).trigger( 'wcf_template_edit_popup_open' );\r\n                $( '.wcf-addons-tmp-elementor' ).addClass( 'button disabled').attr( 'disabled','disabled' );\r\n                $( '.wcf-addons-template-edit-popup-area' ).addClass( 'open-popup' );\r\n                if(WCFThemeBuilder.getParam('template_type')){\r\n                    $('#wcf-addons-template-type').val(WCFThemeBuilder.getParam('template_type')).trigger('change');\r\n                }           \r\n            }\r\n\r\n        },\r\n\r\n        getParam: function getParam(key, url = window.location.href) {\r\n            return new URL(url).searchParams.get(key);\r\n        },\r\n\r\n        // Close Popup\r\n        closePopup: function( event ) {\r\n            $('.wcf-addons-template-edit-popup-area').removeClass('open-popup');\r\n            $('#wcf-addons-hf-s-display-type').select2('destroy');   \r\n            const $_select2html = `<label class=\"wcf-addons-template-edit-label\"></label>\r\n                                <select class=\"wcf-addons-template-edit-input\" name=\"wcf-addons-hf-s-display-type[]\"\r\n                                        id=\"wcf-addons-hf-s-display-type\" multiple=\"multiple\">\r\n                                </select>`;\r\n            $('.wcf-addons-template-edit-field.hf-s-location').html($_select2html);                    \r\n            WCFThemeBuilder.reinitSelect2();\r\n        },\r\n\r\n        // Save Post\r\n        savePost: function (event) {\r\n\r\n            const $this            = $(this),\r\n                  tmpId            = event.target.dataset.tmpid ? event.target.dataset.tmpid : '',\r\n                  title            = $('#wcf-addons-template-title').val(),\r\n                  tmpType          = $('#wcf-addons-template-type').val(),\r\n                  temDisplay       = $('.hf-location:visible select, .archive-location:visible select, .single-location:visible select').val();\r\n            let specificsDisplay = $('.hf-s-location:visible select').val();\r\n\r\n                if(\"specifics_cat\" == temDisplay){\r\n                    specificsDisplay = [];\r\n                    specificsDisplay.push( $('#wcf-addons-single-category-display-type').val() );\r\n                }\r\n                \r\n                let data = {\r\n                    'action': 'wcf_save_template',\r\n                    'nonce': WCF_Theme_Builder.nonce,\r\n                    'tmpId': tmpId,\r\n                    'title': title,\r\n                    'tmpType': tmpType,\r\n                    'tmpDisplay': temDisplay,\r\n                    'specificsDisplay': JSON.stringify(specificsDisplay) ?? null,\r\n                }; \r\n\r\n                if(tmpType === 'popup'){\r\n                    data['tmpDelay'] = $('#aae-popup-builder-delay').val() ? $('#aae-popup-builder-delay').val() : 0;\r\n                }\r\n                \r\n                $.ajax({\r\n                url: WCF_Theme_Builder.ajaxurl,\r\n                data: data,\r\n                type: 'POST',\r\n                beforeSend: function () {\r\n                    $this.text(WCF_Theme_Builder.labels.buttons.save.saving);\r\n                    $this.addClass('updating-message');\r\n                },\r\n\r\n                success: function (data) {\r\n\r\n                    if (tmpId == '') {\r\n\r\n                        if (data.data.id) {\r\n                            var elementorEditlink = 'post.php?post=' + data.data.id + '&action=elementor';\r\n                        }\r\n                        $('.wcf-addons-tmp-save').attr('data-tmpid', data.data.id);\r\n                        $('.wcf-addons-tmp-elementor').attr({\r\n                            'data-link': elementorEditlink,\r\n                            'data-tmpid': data.data.id\r\n                        });\r\n                        $('.wcf-addons-tmp-elementor').removeClass('disabled').removeAttr('disabled', 'disabled');\r\n\r\n                    } else {\r\n\r\n                    }\r\n                },\r\n\r\n                complete: function (data) {\r\n                    $('body.post-type-woolentor-template').removeClass('loading');\r\n                    $this.removeClass('updating-message');\r\n                    $this.text(WCF_Theme_Builder.labels.buttons.save.saved);\r\n                },\r\n\r\n                error: function (errorThrown) {\r\n                    console.log(errorThrown);\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n        // Redirect Edit Page\r\n        redirectEditPage: function( event ){\r\n            event.preventDefault();\r\n\r\n            var $this   = $( this ),\r\n                link = $this.data( 'link' ) ? $this.data( 'link' ) : '';\r\n\r\n            window.location.replace( WCF_Theme_Builder.adminURL + link );\r\n\r\n        }, \r\n\r\n        displayLocation: function (event){\r\n            let type = $('#wcf-addons-template-type').val();     \r\n             \r\n            $('.hf-s-location').addClass('hidden');\r\n            if ('archive' === type) {\r\n                $('.archive-location').removeClass('hidden');\r\n                $('.hf-location, .single-location').addClass('hidden');\r\n            } else if ('single' === type) {\r\n                $('.single-location').removeClass('hidden');\r\n                $('.hf-location, .archive-location').addClass('hidden');                \r\n            } else {\r\n                $('.hf-location').removeClass('hidden');\r\n                $('.single-location, .archive-location').addClass('hidden');\r\n\r\n                setTimeout(function () {\r\n                    //specifics location for page post taxonomy etc\r\n                    if ('specifics' === $('#wcf-addons-hf-display-type').val()) {\r\n                        $('.hf-s-location').removeClass('hidden');\r\n                    }\r\n                }, 100);\r\n            }\r\n\r\n            if(type === 'popup') {\r\n                $('.aae-popup-builder-location').removeClass('hidden');\r\n            }else{\r\n                 $('.aae-popup-builder-location').addClass('hidden');  \r\n            }\r\n           \r\n        }\r\n\r\n    };\r\n\r\n    WCFThemeBuilder.init();\r\n\r\n\r\n})(jQuery);\r\n"],"mappings":"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"}