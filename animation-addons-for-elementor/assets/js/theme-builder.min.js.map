{"version":3,"file":"theme-builder.min.js","names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","$","WCFThemeBuilder","instance","templateId","init","this","renderPopup","reinitSelect2","document","on","specificsDisplay","openPopup","closePopup","savePost","redirectEditPage","displayLocation","e","selectedItems","val","uniqueItems","Set","trigger","event","preventDefault","removeClass","addClass","select2","ajax","url","ajaxurl","dataType","method","delay","data","params","q","term","page","action","nonce","WCF_Theme_Builder","processResults","uniqueData","seen","forEach","item","has","id","add","push","results","cache","minimumInputLength","placeholder","allowClear","content","wp","template","popupTmp","templatetype","hflocation","archivelocation","singlelocation","postcategory","editor","heading","labels","append","rowId","closest","attr","tmpId","elementorEditlink","replace","type","beforeSend","success","response","querySelector","tmpType","selected","tmpTitle","removeAttr","complete","responseJSON","tmpLocation","category_option","keys","tmpSpLocation","find","each","text","newOption","Option","tmpDelay","error","errorThrown","console","log","getParam","key","arguments","undefined","window","location","href","URL","searchParams","get","html","_JSON$stringify","$this","target","dataset","tmpid","title","temDisplay","tmpDisplay","JSON","stringify","buttons","save","saving","saved","link","adminURL","setTimeout","jQuery"],"sources":["theme-builder.js"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) {\n\treturn _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n\tthrow new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n\tif (!o) return;\n\tif (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\tvar n = Object.prototype.toString.call(o).slice(8, -1);\n\tif (n === \"Object\" && o.constructor) n = o.constructor.name;\n\tif (n === \"Map\" || n === \"Set\") return Array.from(o);\n\tif (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n\tif (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n\tif (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n\tif (len == null || len > arr.length) len = arr.length;\n\tfor (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\treturn arr2;\n};\n(function($) {\n\t\"use strict\";\n\n\tvar WCFThemeBuilder = {\n\t\tinstance: [],\n\t\ttemplateId: 0,\n\t\tinit: function init() {\n\t\t\tthis.renderPopup();\n\t\t\tthis.reinitSelect2();\n\t\t\t//open popup onclick\n\t\t\t$(document).on('click', '#wcf-addons-archive-display-type', this.specificsDisplay);\n\t\t\t$('body.post-type-wcf-addons-template #wpcontent').on('click', '.page-title-action, .row-title, .row-actions .edit > a', this.openPopup);\n\t\t\t$(document).on('click', '.wcf-addons-body-overlay,.wcf-addons-template-edit-cross', this.closePopup).on('click', \".wcf-addons-tmp-save\", this.savePost).on('click', '.wcf-addons-tmp-elementor', this.redirectEditPage).on('wcf_template_edit_popup_open', this.displayLocation).on('change', '#wcf-addons-template-type, #wcf-addons-hf-display-type', this.displayLocation);\n\t\t\t$('#wcf-addons-hf-s-display-type').on('select2:select', function(e) {\n\t\t\t\t// Get the selected data\n\t\t\t\tvar selectedItems = $(this).val(); // Get the selected values             \n\t\t\t\tvar uniqueItems = _toConsumableArray(new Set(selectedItems)); // Remove duplicates                \n\t\t\t\t// Update the Select2 element with unique values\n\t\t\t\t$(this).val(uniqueItems).trigger('change');\n\t\t\t});\n\t\t},\n\t\tspecificsDisplay: function specificsDisplay(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar type = $(this).val();\n\t\t\tif ('specifics_cat' == type) {\n\t\t\t\t$('.single-category-location').removeClass('hidden');\n\t\t\t} else {\n\t\t\t\t$('.single-category-location').addClass('hidden');\n\t\t\t}\n\t\t},\n\t\treinitSelect2: function reinitSelect2() {\n\t\t\t$('#wcf-addons-hf-s-display-type').select2({\n\t\t\t\tajax: {\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdelay: 250,\n\t\t\t\t\tdata: function data(params) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tq: params.term,\n\t\t\t\t\t\t\t// search term\n\t\t\t\t\t\t\tpage: params.page || 1,\n\t\t\t\t\t\t\taction: 'wcf_get_posts_by_query',\n\t\t\t\t\t\t\tnonce: WCF_Theme_Builder.nonce\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tprocessResults: function processResults(data) {\n\t\t\t\t\t\tvar uniqueData = [];\n\t\t\t\t\t\tvar seen = new Set();\n\t\t\t\t\t\tdata.forEach(function(item) {\n\t\t\t\t\t\t\tif (!seen.has(item.id)) {\n\t\t\t\t\t\t\t\tseen.add(item.id);\n\t\t\t\t\t\t\t\tuniqueData.push(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: uniqueData\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tcache: true\n\t\t\t\t},\n\t\t\t\tminimumInputLength: 2,\n\t\t\t\tplaceholder: 'Search and select an option',\n\t\t\t\tallowClear: true\n\t\t\t});\n\t\t},\n\t\t// Render Popup HTML\n\t\trenderPopup: function renderPopup(event) {\n\t\t\tvar popupTmp = wp.template('wcf-addons-ctppopup'),\n\t\t\t\tcontent = null;\n\t\t\tcontent = popupTmp({\n\t\t\t\ttemplatetype: WCF_Theme_Builder.templatetype,\n\t\t\t\thflocation: WCF_Theme_Builder.hflocation,\n\t\t\t\tarchivelocation: WCF_Theme_Builder.archivelocation,\n\t\t\t\tsinglelocation: WCF_Theme_Builder.singlelocation,\n\t\t\t\tpostcategory: WCF_Theme_Builder.postcategory,\n\t\t\t\teditor: WCF_Theme_Builder.editor,\n\t\t\t\theading: WCF_Theme_Builder.labels\n\t\t\t});\n\t\t\t$('body').append(content);\n\t\t},\n\t\t// Edit PopUp\n\t\topenPopup: function openPopup(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar rowId = $(this).closest('tr').attr('id'),\n\t\t\t\ttmpId = null,\n\t\t\t\telementorEditlink = null;\n\t\t\tif (rowId) {\n\t\t\t\ttmpId = rowId.replace('post-', '');\n\t\t\t\telementorEditlink = 'post.php?post=' + tmpId + '&action=elementor';\n\t\t\t}\n\t\t\t$('.wcf-addons-tmp-save').attr('data-tmpid', tmpId);\n\t\t\t$('.wcf-addons-tmp-elementor').attr({\n\t\t\t\t'data-link': elementorEditlink,\n\t\t\t\t'data-tmpid': tmpId\n\t\t\t});\n\t\t\tif (tmpId) {\n\t\t\t\t//fetch existing template data\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: WCF_Theme_Builder.ajaxurl,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'action': 'wcf_get_template',\n\t\t\t\t\t\t'nonce': WCF_Theme_Builder.nonce,\n\t\t\t\t\t\t'tmpId': tmpId\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tbeforeSend: function beforeSend() {},\n\t\t\t\t\tsuccess: function success(response) {\n\t\t\t\t\t\t//type\n\t\t\t\t\t\tdocument.querySelector(\"#wcf-addons-template-type option[value='\" + response.data.tmpType + \"']\").selected = \"true\";\n\t\t\t\t\t\t$('#wcf-addons-template-title').attr('value', response.data.tmpTitle);\n\t\t\t\t\t\t$('.wcf-addons-tmp-elementor').removeClass('disabled').removeAttr('disabled', 'disabled');\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function complete(response) {\n\t\t\t\t\t\t$('#wcf-addons-hf-s-display-type').val(null).trigger('change');\n\t\t\t\t\t\t// Fire custom event.\n\t\t\t\t\t\t$(document).trigger('wcf_template_edit_popup_open');\n\t\t\t\t\t\tif (response.responseJSON.data.tmpLocation === 'specifics_cat') {\n\t\t\t\t\t\t\t$('.single-category-location').removeClass('hidden');\n\t\t\t\t\t\t\tvar category_option = Object.keys(response.responseJSON.data.tmpSpLocation);\n\t\t\t\t\t\t\tif ($('#wcf-addons-single-category-display-type').find(\"option[value='\" + category_option[0] + \"']\").length) {\n\t\t\t\t\t\t\t\t$('#wcf-addons-single-category-display-type').find(\"option[value='\" + category_option[0] + \"']\")[0].selected = \"true\";\n\t\t\t\t\t\t\t\t$('#wcf-addons-single-category-display-type').trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.single-category-location').addClass('hidden');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//display\n\t\t\t\t\t\tvar temDisplay = $('.hf-location:visible select, .archive-location:visible select, .single-location:visible select');\n\t\t\t\t\t\ttemDisplay.find(\"option[value='\" + response.responseJSON.data.tmpLocation + \"']\")[0].selected = \"true\";\n\n\t\t\t\t\t\t//display specific locations\n\t\t\t\t\t\tif (response.responseJSON.data.tmpSpLocation) {\n\t\t\t\t\t\t\t$.each(response.responseJSON.data.tmpSpLocation, function(i, item) {\n\t\t\t\t\t\t\t\t// Create a DOM Option and pre-select by default\n\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\tid: i,\n\t\t\t\t\t\t\t\t\ttext: item\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tvar newOption = new Option(data.text, data.id, true, true);\n\t\t\t\t\t\t\t\t// Append it to the select\n\t\t\t\t\t\t\t\t$('#wcf-addons-hf-s-display-type').append(newOption).trigger('change');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t//aae-popup-builder-location\n\t\t\t\t\t\t\tif (response.responseJSON.data.tmpType && response.responseJSON.data.tmpType === 'popup') {\n\t\t\t\t\t\t\t\t$('#aae-popup-builder-delay').val(response.responseJSON.data.tmpDelay);\n\t\t\t\t\t\t\t\t$('.aae-popup-builder-location').removeClass('hidden');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.aae-popup-builder-location').addClass('hidden');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('.wcf-addons-template-edit-popup-area').addClass('open-popup');\n\t\t\t\t\t},\n\t\t\t\t\terror: function error(errorThrown) {\n\t\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Fire custom event.\n\t\t\t\t$(document).trigger('wcf_template_edit_popup_open');\n\t\t\t\t$('.wcf-addons-tmp-elementor').addClass('button disabled').attr('disabled', 'disabled');\n\t\t\t\t$('.wcf-addons-template-edit-popup-area').addClass('open-popup');\n\t\t\t\tif (WCFThemeBuilder.getParam('template_type')) {\n\t\t\t\t\t$('#wcf-addons-template-type').val(WCFThemeBuilder.getParam('template_type')).trigger('change');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetParam: function getParam(key) {\n\t\t\tvar url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.href;\n\t\t\treturn new URL(url).searchParams.get(key);\n\t\t},\n\t\t// Close Popup\n\t\tclosePopup: function closePopup(event) {\n\t\t\t$('.wcf-addons-template-edit-popup-area').removeClass('open-popup');\n\t\t\t$('#wcf-addons-hf-s-display-type').select2('destroy');\n\t\t\tvar $_select2html = \"<label class=\\\"wcf-addons-template-edit-label\\\"></label>\\n                                <select class=\\\"wcf-addons-template-edit-input\\\" name=\\\"wcf-addons-hf-s-display-type[]\\\"\\n                                        id=\\\"wcf-addons-hf-s-display-type\\\" multiple=\\\"multiple\\\">\\n                                </select>\";\n\t\t\t$('.wcf-addons-template-edit-field.hf-s-location').html($_select2html);\n\t\t\tWCFThemeBuilder.reinitSelect2();\n\t\t},\n\t\t// Save Post\n\t\tsavePost: function savePost(event) {\n\t\t\tvar _JSON$stringify;\n\t\t\tvar $this = $(this),\n\t\t\t\ttmpId = event.target.dataset.tmpid ? event.target.dataset.tmpid : '',\n\t\t\t\ttitle = $('#wcf-addons-template-title').val(),\n\t\t\t\ttmpType = $('#wcf-addons-template-type').val(),\n\t\t\t\ttemDisplay = $('.hf-location:visible select, .archive-location:visible select, .single-location:visible select').val();\n\t\t\tvar specificsDisplay = $('.hf-s-location:visible select').val();\n\t\t\tif (\"specifics_cat\" == temDisplay) {\n\t\t\t\tspecificsDisplay = [];\n\t\t\t\tspecificsDisplay.push($('#wcf-addons-single-category-display-type').val());\n\t\t\t}\n\t\t\tvar data = {\n\t\t\t\t'action': 'wcf_save_template',\n\t\t\t\t'nonce': WCF_Theme_Builder.nonce,\n\t\t\t\t'tmpId': tmpId,\n\t\t\t\t'title': title,\n\t\t\t\t'tmpType': tmpType,\n\t\t\t\t'tmpDisplay': temDisplay,\n\t\t\t\t'specificsDisplay': (_JSON$stringify = JSON.stringify(specificsDisplay)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : null\n\t\t\t};\n\t\t\tif (tmpType === 'popup') {\n\t\t\t\tdata['tmpDelay'] = $('#aae-popup-builder-delay').val() ? $('#aae-popup-builder-delay').val() : 0;\n\t\t\t}\n\t\t\t$.ajax({\n\t\t\t\turl: WCF_Theme_Builder.ajaxurl,\n\t\t\t\tdata: data,\n\t\t\t\ttype: 'POST',\n\t\t\t\tbeforeSend: function beforeSend() {\n\t\t\t\t\t$this.text(WCF_Theme_Builder.labels.buttons.save.saving);\n\t\t\t\t\t$this.addClass('updating-message');\n\t\t\t\t},\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\tif (tmpId == '') {\n\t\t\t\t\t\tif (data.data.id) {\n\t\t\t\t\t\t\tvar elementorEditlink = 'post.php?post=' + data.data.id + '&action=elementor';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('.wcf-addons-tmp-save').attr('data-tmpid', data.data.id);\n\t\t\t\t\t\t$('.wcf-addons-tmp-elementor').attr({\n\t\t\t\t\t\t\t'data-link': elementorEditlink,\n\t\t\t\t\t\t\t'data-tmpid': data.data.id\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('.wcf-addons-tmp-elementor').removeClass('disabled').removeAttr('disabled', 'disabled');\n\t\t\t\t\t} else {}\n\t\t\t\t},\n\t\t\t\tcomplete: function complete(data) {\n\t\t\t\t\t$('body.post-type-woolentor-template').removeClass('loading');\n\t\t\t\t\t$this.removeClass('updating-message');\n\t\t\t\t\t$this.text(WCF_Theme_Builder.labels.buttons.save.saved);\n\t\t\t\t},\n\t\t\t\terror: function error(errorThrown) {\n\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// Redirect Edit Page\n\t\tredirectEditPage: function redirectEditPage(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar $this = $(this),\n\t\t\t\tlink = $this.data('link') ? $this.data('link') : '';\n\t\t\twindow.location.replace(WCF_Theme_Builder.adminURL + link);\n\t\t},\n\t\tdisplayLocation: function displayLocation(event) {\n\t\t\tvar type = $('#wcf-addons-template-type').val();\n\t\t\t$('.hf-s-location').addClass('hidden');\n\t\t\tif ('archive' === type) {\n\t\t\t\t$('.archive-location').removeClass('hidden');\n\t\t\t\t$('.hf-location, .single-location').addClass('hidden');\n\t\t\t} else if ('single' === type) {\n\t\t\t\t$('.single-location').removeClass('hidden');\n\t\t\t\t$('.hf-location, .archive-location').addClass('hidden');\n\t\t\t} else {\n\t\t\t\t$('.hf-location').removeClass('hidden');\n\t\t\t\t$('.single-location, .archive-location').addClass('hidden');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t//specifics location for page post taxonomy etc\n\t\t\t\t\tif ('specifics' === $('#wcf-addons-hf-display-type').val()) {\n\t\t\t\t\t\t$('.hf-s-location').removeClass('hidden');\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\tif (type === 'popup') {\n\t\t\t\t$('.aae-popup-builder-location').removeClass('hidden');\n\t\t\t} else {\n\t\t\t\t$('.aae-popup-builder-location').addClass('hidden');\n\t\t\t}\n\t\t}\n\t};\n\tWCFThemeBuilder.init();\n})(jQuery);\n//# sourceMappingURL=theme-builder.js.map\n"]}