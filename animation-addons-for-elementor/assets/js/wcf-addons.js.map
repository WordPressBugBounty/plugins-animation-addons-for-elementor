{"version":3,"file":"wcf-addons.js","names":["$","window","on","Modules","elementorModules","frontend","handlers","Base","contact_form_7","$scope","submit_btn","classes","attr","replaceWith","html","type","Countdown","extend","bindEvents","run","_this","x","setInterval","count_down","countDownDate","Date","getElementSettings","getTime","now","distance","days","Math","floor","hours","minutes","seconds","clearInterval","findElement","time_finish_content","timer_content","_this2","times","arguments","length","undefined","time_content","each","index","time","title","concat","description","finish_content","ClickDrop","$btn","find","$modal","e","stopPropagation","slideToggle","document","is","target","has","slideUp","elementorFrontend","hooks","addAction","elementsHandler","addHandler","$element","jQuery"],"sources":["wcf-addons.js"],"sourcesContent":["/* global WCF_ADDONS_JS */\r\n\r\n(function ($) {\r\n    /**\r\n     * @param $scope The Widget wrapper element as a jQuery element\r\n     * @param $ The jQuery alias\r\n     */    \r\n    // Make sure you run this code under Elementor.\r\n    $(window).on('elementor/frontend/init', function () {\r\n\r\n        const Modules = elementorModules.frontend.handlers.Base;\r\n\r\n        const contact_form_7 = function ($scope) {\r\n            const submit_btn = $('.wpcf7-submit', $scope);\r\n           \r\n            let classes = submit_btn.attr('class');\r\n            classes += ' wcf-btn-default ' + $('.wcf--form-wrapper', $scope).attr('btn-hover');\r\n\r\n            submit_btn.replaceWith(function () {\r\n                return $('<button/>', {\r\n                    html: $('.btn-icon').html() + submit_btn.attr('value'),\r\n                    class: classes,\r\n                    type: 'submit'\r\n                });\r\n            });\r\n        };\r\n\r\n        const Countdown = Modules.extend({\r\n            bindEvents: function bindEvents() {\r\n                this.run();\r\n            },\r\n\r\n            run: function run() {\r\n\r\n                // Update the count down every 1 second\r\n                const x = setInterval(()=> {\r\n                    this.count_down(x);\r\n                }, 1000);\r\n\r\n                this.count_down(x);\r\n\r\n            },\r\n\r\n            count_down: function count_down(x) {\r\n\r\n                // Set the date we're counting down to\r\n                const countDownDate = new Date(this.getElementSettings('countdown_timer_due_date')).getTime();\r\n\r\n                // Get today's date and time\r\n                let now = new Date().getTime();\r\n\r\n                // Find the distance between now and the count down date\r\n                let distance = countDownDate - now;\r\n\r\n                // Time calculations for days, hours, minutes and seconds\r\n                let days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n                let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n                let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n                let seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n\r\n                // If the count down is over, write some text\r\n                if (distance < 0) {\r\n                    clearInterval(x);\r\n                    this.findElement('.wcf--countdown').html(this.time_finish_content());\r\n                } else {\r\n                    this.findElement('.wcf--countdown').html(this.timer_content({\r\n                        'days': days,\r\n                        'hours': hours,\r\n                        'minutes': minutes,\r\n                        'seconds': seconds\r\n                    }));\r\n                }\r\n\r\n            },\r\n\r\n            timer_content: function timer_content(times= []) {\r\n                if ( 0 === times.length ){\r\n                    return ;\r\n                }\r\n                let time_content = '';\r\n\r\n                $.each(times, (index, time)=>{\r\n                    const title = this.getElementSettings(`countdown_timer_${index}_label`);\r\n                    time_content +=`<div class=\"timer-content timer-item-${index} \"><span class=\"time-count ${index}-count\">${time}</span><span class=\"time-title ${index}-title\">${title}</span></div>`;\r\n                })\r\n\r\n                return time_content;\r\n            },\r\n\r\n            time_finish_content: function () {\r\n                const title = this.getElementSettings('time_expire_title');\r\n                const description = this.getElementSettings('time_expire_desc');\r\n                let finish_content = '<div class=\"countdown-expire\">';\r\n                if (title) {\r\n                    finish_content += `<div class=\"countdown-expire-title\">${title}</div>`\r\n                }\r\n                if (description) {\r\n                    finish_content += `<div class=\"countdown-expire-desc\">${description}</div>`\r\n                }\r\n                finish_content += '</div>';\r\n\r\n                return finish_content;\r\n            }\r\n\r\n        });\r\n\r\n\r\n        const ClickDrop = function ($scope) {\r\n            let $btn = $scope.find(\".aae-clickdrop-btn\");\r\n            let $modal = $scope.find(\".aae-clickdrop-modal\");\r\n\r\n            $btn.on(\"click\", function (e) {\r\n                e.stopPropagation();\r\n                $modal.slideToggle();\r\n            });\r\n\r\n            // Click outside to close\r\n            $(document).on(\"click\", function (e) {\r\n                if (!$scope.is(e.target) && $scope.has(e.target).length === 0) {\r\n                    $modal.slideUp();\r\n                }\r\n            });\r\n        };\r\n\r\n        elementorFrontend.hooks.addAction(`frontend/element_ready/wcf--contact-form-7.default`, contact_form_7);\r\n        elementorFrontend.hooks.addAction(`frontend/element_ready/aae--clickdrop.default`, ClickDrop);\r\n\r\n        elementorFrontend.hooks.addAction('frontend/element_ready/wcf--countdown.default', function ($scope) {\r\n            elementorFrontend.elementsHandler.addHandler(Countdown, {\r\n                $element: $scope\r\n            });\r\n        });\r\n\r\n    });\r\n\r\n})(jQuery);\r\n"],"mappings":"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"}