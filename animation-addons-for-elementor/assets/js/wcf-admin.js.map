{"version":3,"file":"wcf-admin.js","names":["$","WCFAdmin","init","adminTabs","saveData","installPlugin","setupWizard","add_tab_args","length","accordion","event","tabItem","addClass","each","hasClass","click","activeTab","trigger","on","e","tabContent","target","data","css","removeClass","concat","document","_this","status","prop","classes","closest","find","change","group_area","gsap_switch","checkbox","smooth_value","on_mobile","WCF_ADDONS_ADMIN","smoothScroller","smooth","mobile","popupTmp","wp","template","content","renderPopup","openPopup","_$$val","ajax","url","ajaxurl","nonce","val","type","beforeSend","success","response","JSON","parse","complete","error","errorThrown","console","log","forms","attr","serialize","html","title","text","icon","setTimeout","closePopup","preventDefault","action_base","plugin_source","window","open","action","before","addHtml","wizardBar","querySelector","btnPrevious","currentTab","showTab","n","formTabs","querySelectorAll","wizardItem","classList","add","hide","style","display","nextPrev","remove","updateWizardBarWidth","activeWizards","currentWidth","setProperty","addEventListener","dataset","btnNext","settings","_that","location","responseJSON","redirect_url","jQuery"],"sources":["wcf-admin.js"],"sourcesContent":[";(function($){\r\n    \"use strict\";\r\n\r\n    const WCFAdmin = {\r\n\r\n        init: function() {\r\n            this.adminTabs();\r\n            this.saveData();\r\n            this.installPlugin();\r\n            this.setupWizard();\r\n            this.add_tab_args();\r\n\r\n            //accordion\r\n            if ($(\"#wcf-accordion\").length) {\r\n                $(\"#wcf-accordion\").accordion();\r\n            }\r\n        },\r\n\r\n        // Render admin settings tabs\r\n        adminTabs: function( event ){\r\n            let tabItem = $('.wcf-admin-tab button');\r\n            $(tabItem[0]).addClass('active');\r\n\r\n            tabItem.each(function() {\r\n                if ( $(this).hasClass('active') ){\r\n                    $(this).click(activeTab);\r\n                    $(this).trigger('click');\r\n                }else {\r\n                    tabItem.on('click', activeTab);\r\n                }\r\n            });\r\n            function activeTab ( e ) {\r\n                let tabContent = $(\".wcf-tab-pane\");\r\n                let target = $(this).data('target');\r\n                tabContent.css('display', 'none');\r\n                tabItem.removeClass('active');\r\n                $(`#${target}`).css('display', 'block');\r\n                $(this).addClass('active');\r\n            }\r\n        },\r\n\r\n        //save widget and extension\r\n        saveData: function () {\r\n\r\n            //global on off\r\n            $(document).on('click', '.wcf-global-switch', function (e) {\r\n                let _this = $(this);\r\n\r\n                let status = $(this).prop(\"checked\");\r\n                let classes = \".wcf-settings-item:enabled\";\r\n\r\n                _this.closest('form.wcf-settings').find(classes).each(function () {\r\n                    $(this).prop(\"checked\", status).change();\r\n                });\r\n            });\r\n\r\n            //gsap on off\r\n            $(document).on('click', '.wcf-gsap-switch', function (e) {\r\n                let _this = $(this);\r\n\r\n                let status = _this.prop(\"checked\");\r\n                let classes = \".wcf-settings-item:enabled\";\r\n\r\n                _this.closest('.settings-group').find(classes).each(function () {\r\n                    $(this).prop(\"checked\", status).change();\r\n                });\r\n            });\r\n\r\n            //gsap items\r\n            $(document).on('click', '.wcf-settings-item', function (e) {\r\n                let _this = $(this);\r\n                let group_area = _this.closest('.settings-group');\r\n                let gsap_switch = group_area.find('.wcf-gsap-switch');\r\n\r\n                if (!gsap_switch.length) {\r\n                    return;\r\n                }\r\n                if (!gsap_switch.prop(\"checked\")) {\r\n                    _this.prop(\"checked\", false).change();\r\n                }\r\n\r\n            });\r\n\r\n            //smooth scroller\r\n            $(document).on('click', '.smooth-settings', function (e) {\r\n\r\n                let checkbox = $('.wcf-smooth-scroller-switch');\r\n\r\n                let status = checkbox.prop(\"checked\");\r\n\r\n                let smooth_value = 1.35;\r\n                let on_mobile = '';\r\n                if (null !== WCF_ADDONS_ADMIN.smoothScroller) {\r\n                    smooth_value = WCF_ADDONS_ADMIN.smoothScroller.smooth\r\n                    on_mobile = 'on' === WCF_ADDONS_ADMIN.smoothScroller.mobile;\r\n                }\r\n\r\n                let popupTmp = wp.template('wcf-settings-smooth-scroller'),\r\n                    content = null;\r\n\r\n                content = popupTmp({\r\n                    smooth_value: smooth_value,\r\n                    on_mobile: on_mobile,\r\n                });\r\n                WCFAdmin.renderPopup(content);\r\n\r\n                if (status) {\r\n                    $('[data-checked=\"true\"]').prop('checked', true);\r\n                    WCFAdmin.openPopup()\r\n\r\n                    $('.popup-button').on('click', function () {\r\n\r\n                        $.ajax({\r\n                            url: WCF_ADDONS_ADMIN.ajaxurl,\r\n                            data: {\r\n                                'action': 'save_smooth_scroller_settings',\r\n                                'nonce': WCF_ADDONS_ADMIN.nonce,\r\n                                'smooth': $(\".input-items input[type='number']\").val(),\r\n                                'mobile': $(\".input-items input[type='checkbox']:checked\").val() ?? ''\r\n                            },\r\n                            type: 'POST',\r\n\r\n                            beforeSend: function () {\r\n                            },\r\n                            success: function (response) {\r\n                                const smoothScroller = JSON.parse(response);\r\n                                WCF_ADDONS_ADMIN.smoothScroller.smooth = smoothScroller.smooth;\r\n                                WCF_ADDONS_ADMIN.smoothScroller.mobile = smoothScroller.mobile;\r\n                            },\r\n\r\n                            complete: function (response) {\r\n\r\n                            },\r\n\r\n                            error: function (errorThrown) {\r\n\r\n                                console.log(errorThrown);\r\n                            }\r\n                        });\r\n                    })\r\n                }\r\n\r\n            });\r\n\r\n            $(\".wcf-settings-save\").on(\"click\", function (e) {\r\n                let _this = $(this);\r\n                let forms = _this.closest('form.wcf-settings');\r\n\r\n                //if this is wizard save button\r\n                if (_this.closest('.wizard-content').length) {\r\n                    return;\r\n                }\r\n\r\n                let popupTmp = wp.template('wcf-settings-save'),\r\n                    content = null;\r\n\r\n                $.ajax({\r\n                    url: WCF_ADDONS_ADMIN.ajaxurl,\r\n                    data: {\r\n                        'action': 'save_settings_with_ajax',\r\n                        'nonce': WCF_ADDONS_ADMIN.nonce,\r\n                        'settings': forms.attr('name'),\r\n                        'fields': forms.serialize(),\r\n                    },\r\n                    type: 'POST',\r\n\r\n                    beforeSend: function () {\r\n                        _this.html(\"Saving Data...\");\r\n                    },\r\n                    success: function (response) {\r\n                        content = popupTmp({\r\n                            title: \"Good job!\",\r\n                            text: \"Settings Saved!\",\r\n                            icon: \"success\",\r\n                        });\r\n                        WCFAdmin.renderPopup(content)\r\n\r\n                        setTimeout(function () {\r\n                            _this.html(\"Save Settings\");\r\n                            WCFAdmin.openPopup();\r\n                        }, 500);\r\n                    },\r\n\r\n                    complete: function (response) {\r\n                        setTimeout(() => {\r\n                            WCFAdmin.closePopup();\r\n                        }, 2000)\r\n                    },\r\n\r\n                    error: function (errorThrown) {\r\n                        content = popupTmp({\r\n                            title: \"Oops...\",\r\n                            text: \"Something went wrong!\",\r\n                            icon: \"error\",\r\n                        });\r\n\r\n                        WCFAdmin.renderPopup(content)\r\n\r\n                        WCFAdmin.openPopup();\r\n\r\n                        setTimeout(() => {\r\n                            WCFAdmin.closePopup();\r\n                        }, 2000)\r\n\r\n                        console.log(errorThrown);\r\n                    }\r\n\r\n                });\r\n            })\r\n        },\r\n\r\n        //installPlugin\r\n        installPlugin: function () {\r\n            $(\".wcf-plugin-installer\").on(\"click\", function (e) {\r\n                e.preventDefault();\r\n\r\n                let _this = $(this);\r\n                let action_base = _this.data('base');\r\n                let plugin_source = _this.data('source');\r\n\r\n                if (_this.hasClass('activated')) {\r\n                    return;\r\n                }\r\n\r\n                //download plugin\r\n                if (_this.hasClass('download')){\r\n                    window.open(action_base, '_blank')\r\n                    return;\r\n                }\r\n\r\n                //active plugin\r\n                if (_this.hasClass('active')){\r\n\r\n                    let action_base = _this.data('file'),\r\n                        action = 'active',\r\n                        before = 'Activating...',\r\n                        addClass = 'activated',\r\n                        addHtml = 'Activated';\r\n\r\n                    $.ajax({\r\n                        url: WCF_ADDONS_ADMIN.ajaxurl,\r\n                        data: {\r\n                            'action': `wcf_${action}_plugin`,\r\n                            'nonce': WCF_ADDONS_ADMIN.nonce,\r\n                            'action_base': action_base,\r\n                            'plugin_source': plugin_source,\r\n                        },\r\n                        type: 'POST',\r\n\r\n                        beforeSend: function () {\r\n                            _this.html(before);\r\n                        },\r\n                        success: function (response) {\r\n                            setTimeout(()=>{\r\n                                _this.removeClass(action)\r\n                                _this.addClass(addClass)\r\n                                _this.html(addHtml);\r\n                            }, 200)\r\n                        },\r\n                        complete:function( response ){\r\n\r\n                        },\r\n\r\n                        error: function( errorThrown ){\r\n                            _this.html('Install');\r\n                            console.log( errorThrown );\r\n                        }\r\n\r\n                    });\r\n                }\r\n            })\r\n        },\r\n\r\n        //setup Wizard\r\n        setupWizard: function (){\r\n            let wizardBar = document.querySelector('[data-wizard-bar]')\r\n            let btnPrevious = document.querySelector('[data-btn-previous]')\r\n            let currentTab = 0;\r\n            showTab(currentTab);\r\n\r\n            function showTab(n) {\r\n                let formTabs = document.querySelectorAll('[data-form-tab]');\r\n                let wizardItem = document.querySelectorAll('[data-wizard-item]');\r\n\r\n                if ( 0 === wizardItem.length) {\r\n                    return\r\n                }\r\n                formTabs[n].classList.add('active')\r\n                wizardItem[n].classList.add('active')\r\n                wizardItem[n].classList.add('current')\r\n\r\n                if (formTabs.length - 1 === n) {\r\n                    $('.wizard-buttons').hide();\r\n                }\r\n\r\n                if (n == 0) {\r\n                    btnPrevious.style.display = \"none\";\r\n                } else {\r\n                    btnPrevious.style.display = \"flex\";\r\n                }\r\n            }\r\n\r\n            function nextPrev(n) {\r\n                let formTabs = document.querySelectorAll('[data-form-tab]');\r\n                let wizardItem = document.querySelectorAll('[data-wizard-item]')\r\n\r\n                formTabs[currentTab].classList.remove('active')\r\n                wizardItem[currentTab].classList.remove('current');\r\n\r\n                currentTab = currentTab + n;\r\n                showTab(currentTab);\r\n            }\r\n\r\n\r\n            function updateWizardBarWidth() {\r\n                const activeWizards = document.querySelectorAll(\".wizard-item.active\");\r\n                let wizardItem = document.querySelectorAll('[data-wizard-item]')\r\n                const currentWidth = ((activeWizards.length - 1) / (wizardItem.length - 1)) * 100;\r\n                wizardBar.style.setProperty(\"--width\", currentWidth + \"%\");\r\n            }\r\n\r\n            document.querySelector('*').addEventListener('click', function (event) {\r\n\r\n                if (event.target.dataset.btnPrevious) {\r\n                    let wizardItem = document.querySelectorAll('[data-wizard-item]')\r\n                    wizardItem[currentTab].classList.remove('active')\r\n                    nextPrev(-1)\r\n                    updateWizardBarWidth()\r\n                }\r\n                if (event.target.dataset.btnNext) {\r\n                    nextPrev(1)\r\n                    updateWizardBarWidth()\r\n                }\r\n            })\r\n\r\n\r\n            //save data\r\n            $(\".wizard-congrats .wcf-settings-save\").on(\"click\", function (e) {\r\n                let _this = $( this );\r\n                let forms = $('.wizard-content').find('form');\r\n                let settings = {};\r\n\r\n                forms.each(function (){\r\n                    let _that = $(this);\r\n                    settings[_that.attr('name')] = _that.serialize();\r\n                })\r\n\r\n                setTimeout(function () {\r\n\r\n                    $.ajax({\r\n                        url: WCF_ADDONS_ADMIN.ajaxurl,\r\n                        data: {\r\n                            'action': 'save_setup_wizard_settings',\r\n                            'nonce': WCF_ADDONS_ADMIN.nonce,\r\n                            'settings': settings,\r\n                        },\r\n                        type: 'POST',\r\n\r\n                        beforeSend: function () {\r\n                            _this.html(\"Saving Data...\");\r\n                        },\r\n                        success: function (response) {\r\n                            setTimeout(function () {\r\n                                _this.html(\"Save Settings\");\r\n                            }, 500);\r\n                        },\r\n\r\n                        complete: function (response) {\r\n                            window.location = response.responseJSON.data.redirect_url;\r\n                        },\r\n\r\n                        error: function (errorThrown) {\r\n                            console.log(errorThrown);\r\n                        }\r\n\r\n                    });\r\n                }, 500)\r\n\r\n            })\r\n\r\n        },\r\n\r\n        renderPopup: function (content) {\r\n            $('.wcf-addons-settings-content').html(content);\r\n        },\r\n\r\n        openPopup: function () {\r\n            $('.wcf-addons-settings-popup').addClass('open-popup');\r\n\r\n            $('.popup-button').on('click', WCFAdmin.closePopup)\r\n        },\r\n\r\n        closePopup: function () {\r\n            $('.wcf-addons-settings-popup').removeClass('open-popup');\r\n        },\r\n        \r\n        add_tab_args: function(){\r\n           const url = $('#toplevel_page_wcf_addons_page > a').attr('href');           \r\n        }\r\n\r\n    };\r\n\r\n    WCFAdmin.init();\r\n\r\n\r\n})(jQuery);\r\n"],"mappings":"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"}