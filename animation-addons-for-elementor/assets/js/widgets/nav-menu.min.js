window.addEventListener("elementor/frontend/init",()=>{const e=elementorModules.frontend.handlers.Base;class t extends e{bindEvents(){this.run(),window.addEventListener("resize",()=>{this.mobileMenu(),this.reRunForMobile()})}run(){this.mobileMenu()}reRunForMobile(){const e=window.innerWidth;void 0!==this.getElementSettings("mobile_menu_breakpoint")&&(e<767&&!this._rerunTriggered?(this._rerunTriggered=!0,this.mobileMenu()):e>=767&&(this._rerunTriggered=!1))}mobileMenu(){const e=document.querySelector("#wpadminbar"),t=e?e.offsetHeight:0,n=window.innerWidth,i=this.findElement(".wcf__nav-menu"),s=this.findElement(".wcf-nav-menu-container"),o=this.findElements(".wcf-nav-menu-nav .menu-item-has-children"),r=this.findElement(".mobile-sub-back")?.innerHTML||"Back";let l=0;const c=this.getElementSettings("mobile_menu_breakpoint");if(void 0===c||""==c)return;const a=elementorFrontend.config.responsive.activeBreakpoints;l=c&&"all"!==c?a[c].value:"all",i.classList.remove("desktop-menu-active","mobile-menu-active","wcf-nav-is-toggled");const d=`<li class="menu-item"><a class="nav-back-link" href="#">${r}</a></li>`;if("all"!==l&&n>l)return o.forEach(e=>{const t=e.querySelector(".sub-menu li:first-child");t?.querySelector(".nav-back-link")&&t.remove()}),void i.classList.add("desktop-menu-active");i.classList.add("mobile-menu-active"),s&&(s.style.top=`${t}px`),o.forEach(e=>{const t=e.querySelector(".sub-menu");if(!t)return;t.querySelector(".nav-back-link")||t.insertAdjacentHTML("afterbegin",d);const n=t.querySelector(".nav-back-link");n?.addEventListener("click",t=>{t.preventDefault(),e.classList.remove("active"),e.parentElement.closest(".menu-item")?.classList.add("active")})}),this.findElements(".wcf-submenu-indicator").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.closest(".menu-item");if(!n)return;n.parentElement.querySelectorAll(":scope > .menu-item.active").forEach(e=>{e!==n&&e.classList.remove("active")}),n.classList.toggle("active")})}),document.addEventListener("click",function(e){(e.target.classList.contains("wcf-menu-hamburger")||e.target.classList.contains("e-font-icon-svg"))&&e.target.closest(".wcf__nav-menu")&&(document.querySelectorAll(".wcf__nav-menu").forEach(function(e){e.classList.remove("wcf-nav-is-toggled"),document.body.style.overflow="auto"}),i.classList.add("wcf-nav-is-toggled"),document.body.style.overflow="hidden")}),this.findElement(".wcf-menu-hamburger")?.addEventListener("click",()=>{i.classList.add("wcf-nav-is-toggled"),document.body.style.overflow="hidden"}),this.findElement(".wcf-menu-close")?.addEventListener("click",()=>{i.classList.remove("wcf-nav-is-toggled"),document.body.style.overflow="auto"}),document.addEventListener("mouseup",e=>{s?.contains(e.target)||(i.classList.remove("wcf-nav-is-toggled"),document.body.style.overflow="auto")})}findElement(e){return this.$element[0]?.querySelector(e)}findElements(e){return Array.from(this.$element[0]?.querySelectorAll(e)||[])}}elementorFrontend.hooks.addAction("frontend/element_ready/wcf--nav-menu.default",e=>{elementorFrontend.elementsHandler.addHandler(t,{$element:e})})});