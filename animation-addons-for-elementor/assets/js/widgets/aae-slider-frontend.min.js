!function(e){window.addEventListener("elementor/frontend/init",function(){class i extends elementorModules.frontend.handlers.Base{constructor(){super(...arguments),elementorFrontend.isEditMode()&&(this.lifecycleChangeListener=null)}onInit(){this.swiper=null,elementorFrontend.isEditMode()?setTimeout(()=>this.run(),3e3):this.run(),this.isEdit&&elementor.channels.editor.on("aae_nsslider:editor:savechnage",(e,i)=>{this.updateSliderOnOptionChange(),e.$el.parent().find(".elementor-control-center_slide .elementor-switch-input").trigger("change"),e.$el.find("button").text("Saving...."),setTimeout(()=>{e.$el.find("button").text("Save Change")},500)}),new ResizeObserver(function(e,i=1500){let n;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),i)}}(()=>{this.updateSliderOnOptionChange()})).observe(document.body),window.addEventListener("elementor/nested-container/atomic-repeater",e=>{const{container:i,action:n}=e.detail,t=this.swiper.slides.length;"wcf--nested-slider"===i.model.config.name&&"remove"==n.type&&this.isActiveSlide(t),"wcf--nested-slider"===i.model.config.name&&"create"==n.type&&this.isActiveSlide(t),"wcf--nested-slider"===i.model.config.name&&"duplicate"==n.type&&this.isActiveSlide(t)})}updateRows(){const e=this.getElementSettings("grid_rows")||1;this.swiper&&this.swiper.params.grid&&(this.swiper.destroy(!0,!0),this.swiper=new Swiper(this.$element.find(".swiper")[0],{grid:{rows:e,fill:"row"}}))}onEditSettingsChange(e,i){"activeItemIndex"===e&&this.changeActiveSlide(i,!1,e)}getResponsiveSetting(e,i){const n=elementorFrontend.getCurrentDeviceMode();return e["desktop"===n?i:`${i}_${n}`]||e[i]||null}onElementChange(e){this.updateSliderOnOptionChange(e)}updateSliderOnOptionChange(i){const n=this.getElementSettings(),t=elementorFrontend.getCurrentDeviceMode();async function a(e){try{const i=await fetch(e,{mode:"cors"}),n=await i.text();return(new DOMParser).parseFromString(n,"image/svg+xml").documentElement}catch(e){return!1}}if(!this.swiper)return;const s=e=>parseInt(n["desktop"===t?e:`${e}_${t}`]||n[e])||0;["slides_to_show","space_between"].forEach(e=>{"slides_to_show"===e?this.swiper.params.slidesPerView=s(e):"space_between"===e&&(this.swiper.params.spaceBetween=s(e))}),["autoplay","autoplay_delay","speed","grid_rows","loop"].forEach(e=>{"autoplay"===e&&("yes"==n.autoplay?this.swiper.params.autoplay={delay:n.autoplay_delay,disableOnInteraction:!1}:this.swiper.params.autoplay=!1),"speed"===e&&(this.swiper.params.speed=n.speed),"loop"===e&&(this.swiper.params.loop="TRUE"==n.loop),"grid_rows"===e&&(this.swiper.params.grid={rows:n.grid_rows||1,fill:"row"})});const r=this.swiper.params;if(r.handleElementorBreakpoints=!0,r.breakpoints={},n.pagination&&"yes"===n.pagination?(this.$element.find(".ts-pagination").show(),"pagination_type"!==i&&"pagination"!==i||(n?.pagination_type&&"fraction"==n.pagination_type?r.hasOwnProperty("pagination")&&(this.$element.find(".swiper-pagination").html(""),this.$element.find(".swiper-pagination").removeClass("swiper-pagination-bullets"),this.$element.find(".swiper-pagination").removeClass("swiper-pagination-progressbar"),r.pagination.el=e(".swiper-pagination",this.$element)[e(".swiper-pagination",this.$element).length-1],r.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},r.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},r.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'},r.pagination.type="fraction"):n?.pagination_type&&"bullets"==n.pagination_type?(this.$element.find(".swiper-pagination").removeClass("swiper-pagination-fraction"),this.$element.find(".swiper-pagination").removeClass("swiper-pagination-progressbar"),r.hasOwnProperty("pagination")&&(r.pagination.el=e(".swiper-pagination",this.$element)[e(".swiper-pagination",this.$element).length-1],r.pagination.type="bullets",r.pagination.clickable=!0)):n?.pagination_type&&"progressbar"==n.pagination_type&&(this.$element.find(".swiper-pagination").removeClass("swiper-pagination-fraction"),this.$element.find(".swiper-pagination").removeClass("swiper-pagination-bullets"),r.hasOwnProperty("pagination")&&(r.pagination.el=e(".swiper-pagination",this.$element)[e(".swiper-pagination",this.$element).length-1],r.pagination.type="progressbar")))):this.$element.find(".ts-navigation").hide(),n.navigation&&"yes"===n.navigation){if("navigation_previous_icon"===i||"navigation_next_icon"===i||"navigation"===i){if(n?.navigation_previous_icon&&"svg"!==n.navigation_previous_icon.library&&""!=n.navigation_previous_icon.value)this.$element.find(".wcf-arrow-prev").html(`<i class="${n.navigation_previous_icon.value}"></i>`);else if(n?.navigation_previous_icon&&"svg"==n.navigation_previous_icon.library&&""!=n.navigation_previous_icon.value?.url){const e=a(n.navigation_previous_icon.value.url);e.then(e=>{this.$element.find(".wcf-arrow-prev").html(e)}),e&&this.$element.find(".wcf-arrow-prev").html(e)}if(n?.navigation_next_icon&&"svg"!==n.navigation_next_icon.library&&""!=n.navigation_next_icon.value)this.$element.find(".wcf-arrow-next").html(`<i class="${n.navigation_next_icon.value}"></i>`);else if(n?.navigation_next_icon&&"svg"==n.navigation_next_icon.library&&""!=n.navigation_next_icon.value?.url){a(n.navigation_next_icon.value.url).then(e=>{this.$element.find(".wcf-arrow-next").html(e)})}}this.$element.find(".ts-navigation").show()}else this.$element.find(".ts-navigation").hide();this.swiper&&this.swiper.destroy(!0,!0),this.swiper=new Swiper(this.$element.find(".swiper")[0],r)}changeActiveSlide(e,i=!1,n){if(i&&this.isEdit&&this.isElementInTheCurrentDocument())return window.top.$e.run("document/repeater/select",{container:elementor.getContainer(this.$element.attr("data-id")),index:parseInt(e)});this.isActiveSlide(e)}isActiveSlide(e){this.swiper&&(this.swiper.initialized=!1,this.swiper.init(),this.swiper.loopDestroy(),this.swiper.params.loop=!1,this.swiper.slideTo(e-1),this.swiper.update())}run(){const{slider:e,options:i,slider_exist:n}=this.getSliderOptions(this.$element);if(n){new elementorFrontend.utils.swiper(e,i).then(e=>e).then(e=>{this.swiper=e})}}getSliderOptions(i){const n=e(e(".wcf__slider",i)[0]),t=i.find(".wcf__slider").length,a=e(e(".wcf__slider-wrapper, .wcf__t_slider-wrapper",i)[0]).data("settings")||{};if(a.handleElementorBreakpoints=!0,a.hasOwnProperty("navigation")){const n=e(".wcf-arrow-next",i)[e(".wcf-arrow-next",i).length-1],t=e(".wcf-arrow-prev",i)[e(".wcf-arrow-prev",i).length-1];a.navigation.nextEl=n,a.navigation.prevEl=t}return a.hasOwnProperty("pagination")&&(a.pagination.el=e(".swiper-pagination",i)[e(".swiper-pagination",i).length-1],a.pagination.hasOwnProperty("type")&&"fraction"===a.pagination.type&&(a.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},a.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},a.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'})),e(e(".wcf__slider-wrapper",i)[0]).removeAttr("data-settings"),{slider:n,options:a,slider_exist:t}}}["wcf--nested-slider.default"].forEach(e=>{elementorFrontend.hooks.addAction(`frontend/element_ready/${e}`,e=>{elementorFrontend.elementsHandler.addHandler(i,{$element:e})})})})}(jQuery);