!function(e){window.addEventListener("elementor/frontend/init",function(){class i extends elementorModules.frontend.handlers.Base{constructor(){super(...arguments),elementorFrontend.isEditMode()&&(this.lifecycleChangeListener=null)}onInit(){this.swiper=null,this.isInitialized=!1,elementorFrontend.isEditMode()?setTimeout(()=>this.run(),3e3):this.run(),new ResizeObserver(function(e,i=1500){let t;return function(){clearTimeout(t),t=setTimeout(()=>e.apply(this,arguments),i)}}(()=>{this.swiper&&this.isInitialized&&this.swiper.update()})).observe(document.body),window.addEventListener("elementor/nested-container/atomic-repeater",e=>{const{container:i,action:t}=e.detail,n=this.swiper?this.swiper.slides.length:0;"wcf--nested-slider"===i.model.config.name&&"remove"==t.type&&this.isActiveSlide(n),"wcf--nested-slider"===i.model.config.name&&"create"==t.type&&this.isActiveSlide(n),"wcf--nested-slider"===i.model.config.name&&"duplicate"==t.type&&this.isActiveSlide(n)}),window.addEventListener("resize",()=>{this.swiper&&this.isInitialized&&this.updateSlidesPerView(this.getResponsiveSetting(this.getElementSettings(),"slides_to_show"))})}updateRows(){const e=this.getElementSettings("grid_rows")||1;this.swiper&&this.swiper.params.grid&&(this.swiper.destroy(!0,!0),this.swiper=new Swiper(this.$element.find(".swiper")[0],{grid:{rows:e,fill:"row"}}))}onEditSettingsChange(e,i){"activeItemIndex"===e&&this.changeActiveSlide(i,!1,e)}getResponsiveSetting(e,i){const t=elementorFrontend.getCurrentDeviceMode();return e["desktop"===t?i:`${i}_${t}`]||e[i]||null}onElementChange(e){e.startsWith("slides_to_show")&&this.updateSlidesPerView(this.getResponsiveSetting(this.getElementSettings(),"slides_to_show")),this.updateSliderOnOptionChange(e)}updateSliderOnOptionChange(e){const i=this.getElementSettings(),t=elementorFrontend.getCurrentDeviceMode();async function n(e){try{const i=await fetch(e,{mode:"cors"}),t=await i.text();return(new DOMParser).parseFromString(t,"image/svg+xml").documentElement}catch(e){return!1}}if(!this.swiper)return;const s=e=>parseInt(i["desktop"===t?e:`${e}_${t}`]||i[e])||0;["slides_to_show","space_between"].forEach(e=>{"slides_to_show"===e?this.swiper.params.slidesPerView=s(e):"space_between"===e&&(this.swiper.params.spaceBetween=s(e))}),["autoplay","autoplay_delay","speed","grid_rows","loop"].forEach(e=>{"autoplay"===e&&("yes"==i.autoplay?this.swiper.params.autoplay={delay:i.autoplay_delay,disableOnInteraction:!1}:this.swiper.params.autoplay=!1),"speed"===e&&(this.swiper.params.speed=i.speed),"loop"===e&&(this.swiper.params.loop="TRUE"==i.loop),"grid_rows"===e&&(this.swiper.params.grid={rows:i.grid_rows||1,fill:"row"})});const a=this.swiper.params;if(a.handleElementorBreakpoints=!0,a.breakpoints={},i.pagination&&"yes"===i.pagination){this.$element.find(".ts-pagination").show(),a.pagination||(a.pagination={});const t=this.$element.find(".swiper-pagination")[0];if(a.pagination.el=t,a.pagination.clickable=!0,"pagination_type"===e||"pagination"===e){t&&(t.innerHTML="",t.className="swiper-pagination");const e=i?.pagination_type||"bullets";a.pagination.type=e,"fraction"===e&&(a.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},a.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},a.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'})}}else this.$element.find(".ts-pagination").hide(),a.pagination=!1;if(i.navigation&&"yes"===i.navigation){if(this.$element.find(".ts-navigation").show(),"navigation_previous_icon"===e||"navigation_next_icon"===e||"navigation"===e){if(i?.navigation_previous_icon&&"svg"!==i.navigation_previous_icon.library&&""!=i.navigation_previous_icon.value)this.$element.find(".wcf-arrow-prev").html(`<i class="${i.navigation_previous_icon.value}"></i>`);else if(i?.navigation_previous_icon&&"svg"==i.navigation_previous_icon.library&&""!=i.navigation_previous_icon.value?.url){n(i.navigation_previous_icon.value.url).then(e=>{this.$element.find(".wcf-arrow-prev").html(e)})}if(i?.navigation_next_icon&&"svg"!==i.navigation_next_icon.library&&""!=i.navigation_next_icon.value)this.$element.find(".wcf-arrow-next").html(`<i class="${i.navigation_next_icon.value}"></i>`);else if(i?.navigation_next_icon&&"svg"==i.navigation_next_icon.library&&""!=i.navigation_next_icon.value?.url){n(i.navigation_next_icon.value.url).then(e=>{this.$element.find(".wcf-arrow-next").html(e)})}}a.navigation||(a.navigation={}),a.navigation.nextEl=this.$element.find(".wcf-arrow-next")[0],a.navigation.prevEl=this.$element.find(".wcf-arrow-prev")[0]}else this.$element.find(".ts-navigation").hide(),a.navigation=!1;if(this.swiper){this.swiper.destroy(!0,!0);const e=this.$element.find(".swiper-pagination")[0];e&&(e.innerHTML="")}this.swiper=new Swiper(this.$element.find(".swiper")[0],a)}changeActiveSlide(e,i=!1,t){if(i&&this.isEdit&&this.isElementInTheCurrentDocument())return window.top.$e.run("document/repeater/select",{container:elementor.getContainer(this.$element.attr("data-id")),index:parseInt(e)});this.isActiveSlide(e)}isActiveSlide(e){this.swiper&&(this.swiper.initialized=!1,this.swiper.init(),this.swiper.loopDestroy(),this.swiper.params.loop=!1,this.swiper.slideTo(e-1),this.swiper.update())}updateSlidesPerView(e){this.swiper&&(this.swiper.params.slidesPerView=e,this.swiper.update())}run(){if(this.isInitialized)return;const e=this,{slider:i,options:t,slider_exist:n}=e.getSliderOptions(e.$element);if(n){new elementorFrontend.utils.swiper(i,t).then(e=>e).then(i=>{this.swiper=i,this.isInitialized=!0,e.updateSlidesPerView(e.getResponsiveSetting(e.getElementSettings(),"slides_to_show"))})}}getSliderOptions(i){const t=e(e(".wcf__slider",i)[0]),n=i.find(".wcf__slider").length,s=e(e(".wcf__slider-wrapper, .wcf__t_slider-wrapper",i)[0]).data("settings")||{};if(s.handleElementorBreakpoints=!0,s.hasOwnProperty("navigation")){const t=e(".wcf-arrow-next",i)[0],n=e(".wcf-arrow-prev",i)[0];s.navigation.nextEl=t,s.navigation.prevEl=n}return s.hasOwnProperty("pagination")&&(s.pagination.el=e(".swiper-pagination",i)[0],s.pagination.hasOwnProperty("type")&&"fraction"===s.pagination.type&&(s.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},s.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},s.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'})),e(e(".wcf__slider-wrapper",i)[0]).removeAttr("data-settings"),{slider:t,options:s,slider_exist:n}}}["wcf--nested-slider.default"].forEach(e=>{elementorFrontend.hooks.addAction(`frontend/element_ready/${e}`,e=>{elementorFrontend.elementsHandler.addHandler(i,{$element:e})})})})}(jQuery);