!function(e){const a=function(e,a){a(document).on("click","#aae-post-rating-btn",(function(n){n.preventDefault();const r=e.find("#post_id").val(),i=e.find("input[name='rating']:checked").val(),t=e.find("#review_text").val(),o=e.find("#reviewer_name").val(),s=e.find("#reviewer_email").val(),d="yes"===e.find(".aae--post-rating-form").data("require-approval");i?a.ajax({url:WCF_ADDONS_JS.ajaxUrl,type:"POST",data:{action:"aaeaddon_submit_post_review_rating",post_id:r,rating:i,review:t,name:o,email:s,require_approval:d?"yes":"no",nonce:WCF_ADDONS_JS._wpnonce},success:function(a){if(a.success){e.find("#aae-review-success-message").html("<p>"+a.data.message+"</p>").show().delay(2e3).fadeOut(),e.find("textarea[name='review']").val(""),e.find("#reviewer_name").val(""),e.find("#reviewer_email").val(""),e.find("input[name='rating']").prop("checked",!1),e.find("#aae-review-error-message").empty()}else e.find("#aae-review-error-message").html("<p>"+a.data.message+"</p>")},error:function(){e.find("#aae-review-error-message").html("<p>Something went wrong. Please try again later.</p>")}}):alert("Please select a rating!")}))};e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/aae--post-rating-form.default",a)}))}(jQuery);