!function(e,t,i,n){function a(e,t){let i=new Option(AAE_MailChimp.text,AAE_MailChimp.id,!1,!1);t.append(i).trigger("change")}const o=function(e,i){t.AAE_MailChimp&&a(t.AAE_MailChimp,i),jQuery.ajax({type:"post",dataType:"json",url:n.ajaxUrl,data:{action:"mailchimp_api",nonce:n._wpnonce,api:e},success:function(e){const n=i;if(Object.keys(e).length){const n={id:Object.keys(e),text:Object.values(e)};t.AAE_MailChimp=n,a(t.AAE_MailChimp,i)}else n.empty()}})};function c(e){const t=e.$el.find('[data-setting="mailchimp_lists"]'),i=e.$el.find('[data-setting="mailchimp_api"]');i.val()&&o(i.val(),t),t.on("change",function(){var e,a;t.val()&&i.val()&&(e=i.val(),a=t.val(),jQuery.ajax({type:"post",dataType:"json",url:n.ajaxUrl,data:{action:"wcf_mailchimp_list_fields",nonce:n._wpnonce,api:e,list_id:a},success:function(e){console.log(e)}}))}),i.on("keyup",function(){o(i.val(),t)})}elementor.channels.editor.on("editor:widget:wcf--mailchimp:_section_mailchimp:activated",e=>{c(e)}),elementor.channels.editor.on("editor:widget:aae--advanced-mailchimp:_section_mailchimp:activated",e=>{c(e)}),elementor.hooks.addAction("panel/open_editor/widget/wcf--mailchimp",function(e,t,i){}),elementor.hooks.addFilter("editor/style/styleText",function(e,t){if(!t)return;const i=t.model,n=i.get("settings").get("wcf_custom_css");let a=".elementor-element.elementor-element-"+i.get("id");return"document"===i.get("elType")&&(a=elementor.config.document.settings.cssWrapperSelector),n&&(e+=n.replace(/selector/g,a)),e})}(jQuery,window,document,WCF_Addons_Editor);