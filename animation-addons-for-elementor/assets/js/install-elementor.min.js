document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("wcf-install-elementor");e&&e.addEventListener("click",(async t=>{t.preventDefault(),e.textContent="Installing...",e.disabled=!0;try{const t=await fetch(wcfelementorAjax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcf_install_elementor_plugin",_ajax_nonce:wcfelementorAjax.nonce})}),n=await t.json();if(!n.success)throw new Error(n.data.message||"Installation failed.");e.textContent="Elementor Installed & Activated",window.location.reload()}catch(t){e.textContent="Failed to Install",e.disabled=!1,alert(t.message)}}))}));